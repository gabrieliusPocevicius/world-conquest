/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.1
*/
ZC.WA.push("pie"),ZC.A38=ZC.JS.C7({$i:function(i){this.b(i),this.AF="pie",this.AY=new ZC.A48(this)},A2A:function(){return""},MJ:function(i){switch(i){case"m":return new ZC.XO(this);case"v":return new ZC.Z4(this);case"r":return new ZC.A86(this)}},ACI:function(){var i=this,n=i.MJ("m","scale"),e=i.MJ("v","scale-v"),A=i.MJ("r","scale-r");n.BC="scale",n.K=i.K+"-scale",i.o.series&&i.o.series.length&&i.o.series[0].values&&(n.NB="1x"+i.o.series[0].values.length),e.BC="scale-v",e.K=i.K+"-scale-v",A.BC="scale-r",A.K=i.K+"-scale-r",i.BM.push(n,e,A),i.b()},clear_:function(){var i=this;-1!==ZC.AV(["svg","vml"],i.H.AC)&&ZC.A4("#"+i.K+" .zc-layer").each(function(){/\-plot-\d+\-bl\-\d+\-/.test(this.id)&&ZC.A4(this).children().each(function(){/\-connector\-path/.test(this.id)&&ZC.Q.EU(this)})})}}),ZC.A48=ZC.LF.C7({$i:function(i){this.b(i);var n=this;n.KH=[],n.P0=[],n.TQ=[]},ACQ:function(){return new ZC.VY(this)},parseLayout:function(i){var n,e,A,t,C=this;i&&(C.TQ=[],C.P0=[]);var a,l=C.A.BN("scale-r"),o=C.A.BN("scale"),r=.9,s=1;C.A6.length>=10&&(s=1),C.A6.length>=20&&(s=1.25),C.A6.length>=30&&(s=1.5);var u=l.DG;for(n=0,e=C.A6.length;n<e;n++)null!==ZC._n_(C.A6[n].o["ref-angle"])&&(u=C.A6[n].DG);for(n=0,e=C.A6.length;n<e;n++)if(C.C.E["plot"+n+".visible"]||"hide"===C.C.getToggleAction())for(var c=0,Z=C.A6[n].R.length;c<Z;c++)if(C.A6[n].R[c]){C.Y4["n"+c]=C.Y4["n"+c]||[];var h=C.A6[n].R[c];null===ZC._n_(C.P0[c])&&(C.P0[c]=u);var f,_;f=null!==ZC._n_(t=C.A6[n].o["angle-start"])?ZC._f_(t):C.P0[c],_=C.KH[c],null!==ZC._n_(C.A6[n].o.totals)&&null!==ZC._n_(C.A6[n].o.totals[c])&&(_=C.KH[c]=ZC._f_(C.A6[n].o.totals[c])),A=0===_?f+l.EG*(1/e):0===h.AD&&C.A6[n].TD?f+l.EG*(.005*C.KH[c])/_:f+l.EG*h.AD/_,C.P0[c]=A,h.B3=f,h.BI=A;var B=h.GU(!0);if("out"===B.o.placement&&B.AM){var v=ZC._i_((f+A)/2);C.Y4["n"+c][n]=v-u,a=ZC.CY(o.I/2-s*B.I-B.DR-35,o.F/2-s*B.F-B.DR-15),r=ZC.CY(r,2*a/ZC.CY(o.I,o.F))}}if("pie3d"===C.A.AF&&(r*=.75),r=ZC.BQ(.1,ZC.CY(.9,r)),"auto"===o.o["size-factor"]&&(o.JM=r),i)for(var p in C.Y4)C.Y4[p]=ZC.AO.ACD(C.Y4[p],u)},parse:function(){var i=this;i.A.o.plot&&"auto"===i.A.o.plot.layout&&(null===ZC._n_(i.A.o.plot["ref-angle"])&&(i.A.o.plot["ref-angle"]=-90),i.o.sort(function(i,n){return n.values[0]-i.values[0]})),i.TQ=[],i.KH=[],i.P0=[],i.Y4={},i.b();for(var n=0,e=i.A6.length;n<e;n++)for(var A=0,t=i.A6[n].R.length;A<t;A++)i.A6[n].R[A]&&i.A6[n].R[A]&&(i.C.E["plot"+n+".visible"]||"hide"===i.C.getToggleAction())&&0===i.A6[n].R[A].AD&&i.A6[n].TD&&(i.KH[A]+=.005*i.KH[A]);i.parseLayout()}}),ZC.VY=ZC.IC.C7({$i:function(i){this.b(i);var n=this;n.AF="pie",n.BM=["scale","scale-v","scale-r"],n.PN=0,n.DG=0,n.TD=!1,n.A7J=!0,n.C2=null,n.OZ="bg"},TH:function(){return new ZC.A8V(this)},parse:function(){var i,n,e=this;null===ZC._n_(e.o["value-box"])&&(e.o["value-box"]={}),"ring"!==e.A.A.o.type&&"ring3d"!==e.A.A.o.type||(e.PN=.35),e.BP=e.NO(),e.C1=e.BP[0],e.A0=e.BP[1],e.AE=e.BP[2],e.BV=e.BP[0],e.B9=e.BP[0],e.NM(),e.b(),e.C2=new ZC.D0(e),e.C.A.B7.load(e.C2.o,["graph.plot.value-box.connector",e.AF+".plot.value-box.connector"]),null!==ZC._n_(i=e.C.o.plot)&&null!==ZC._n_(i["value-box"])&&null!==ZC._n_(n=i["value-box"].connector)&&e.C2.append(n),e.C2.append(e.o["value-box"].connector),e.assign_a([["offset","DR","fp"],["slice","PN","fp"],["show-zero","TD","b"],["detach","A7J","b"],["ref-angle","DG","i"]]),e.DG%=360;for(var A=0,t=e.R.length;A<t;A++)e.R[A]&&(e.R[A].CN=e.PN,e.R[A]&&(e.C.E["plot"+e.L+".visible"]||"hide"===e.C.getToggleAction())&&(null===ZC._n_(e.A.KH[A])&&(e.A.KH[A]=0),e.A.KH[A]+=ZC._f_(e.R[A].AD)))},paint:function(){var i=this;i.b(),i.KC=i.CO("bl",0),i.P8(!0)}}),ZC.A8V=ZC.M5.C7({U:null,$i:function(i){this.b(i)},parse:function(){this.b()},AAO:function(){this.b();var i=this,n=i.C.E;n.update.npv=n.update["node-percent-value"]=i.KE("%npv")},KE:function(i,n,e,A){var t=this,C=t.A.ML();ZC._cp_(n,C),-1===i.indexOf("%npv")&&-1===i.indexOf("%node-percent-value")||null!==ZC._n_(C.decimals)&&-1!==C.decimals||(C.decimals=1);var a=0,l="0";if(t.A.A.KH[t.L]>0&&(l=""+(a=100*t.AD/t.A.A.KH[t.L])),t.A.A.A6.length>1&&t.A.L===t.A.A.A6.length-1){var o=0;if(null===ZC._n_(t.A.o.totals)){for(var r=0;r<t.A.A.A6.length-1;r++)if(t.A.A.A6[r].AM){var s=0,u="0";t.A.A.KH[t.L]>0&&(u=""+(s=100*t.A.A.A6[r].R[t.L].AD/t.A.A.KH[t.L])),null!==ZC._n_(C.decimals)&&(u=s.toFixed(ZC.BQ(0,ZC._i_(C.decimals)))),o+=ZC._f_(u)}l=""+(a=Math.max(0,100-o))}}null!==ZC._n_(C.decimals)&&(l=a.toFixed(ZC.BQ(0,ZC._i_(C.decimals))));var c=ZC._f_(t.A.A.KH[t.L]||"0"),Z=""+c;return Z=ZC.AP.GF(c,C,t.A),t.CV=[["%node-percent-value",l],["%npv",l],["%pie-total-value",Z]],i=t.b(i,n,e,A)},getTooltipPosition:function(i,n){var e,A,t,C=this,a=(C.B3+C.BI)/2%360;switch(n){case"out":A=(e=ZC.AO.BK(C.iX,C.iY,C.AI+C.DR+i.DR,a))[0]+C.BJ,t=e[1]+C.BH,a>270&&a<=360?t-=i.F:a>90&&a<=180?A-=i.I:a>180&&a<=270&&(A-=i.I,t-=i.F);break;case"center":A=(e=ZC.AO.BK(C.iX,C.iY,C.CN+.5*(C.AI-C.CN)+C.DR,a))[0]+C.BJ,t=e[1]+C.BH;break;default:A=C.iX+C.BJ,t=C.iY+C.BH}return{x:A,y:t}},UV:function(i){var n,e=this,A=(e.B3+e.BI)/2%360,t=0;null!==ZC._n_(n=i["offset-r"])&&(t=ZC._f_(ZC._p_(n))),t<1&&(t*=e.AI);var C=ZC.AO.BK(e.iX,e.iY,e.CN+.6*(e.AI-e.CN)+e.DR+t,A);return[C[0],C[1],{reference:e,center:!0}]},ADH:function(){var i=this,n=(i.B3+i.BI)/2%360,e=ZC.AO.BK(i.iX,i.iY,i.CN+.5*(i.AI-i.CN)+i.DR,n);return[e[0],e[1]]},setup:function(){var i=this,n=i.C.BN(i.A.BT("k")[0]),e=i.L%n.GX,A=Math.floor(i.L/n.GX);i.iX=n.iX+e*n.GH+n.GH/2+n.BJ,i.iY=n.iY+A*n.G8+n.G8/2+n.BH,i.HY||(i.copy(i.A),i.E7=i.A.E7,i.DE()&&i.parse(!1),i.HY=!0)},ABC:function(i){var n,e=this,A={},t="out";return null!==ZC._n_(n=i.o.placement)&&(t=n),A.color="out"===t?e.A0:e.C1,A},ACC:function(i){var n,e=this,A="out";null!==ZC._n_(n=i.o.placement)&&(A=n);var t,C,a,l,o,r=i.I,s=i.F,u=(e.B3+e.BI)/2%360,c=u;if("out"===A){u=c=e.A.A.Y4["n"+e.L][e.A.L];var Z=function(n,A){A<0&&(A=360+A),A%=360;var t=(o=ZC.AO.BK(e.iX,e.iY,n+e.DR+i.DR+20,A))[0]+i.BJ-r/2,C=o[1]+i.BH-s/2;return A>=0&&A<=90||A>=270&&A<=360?t+=r/2+10:t-=r/2+10,[t,C]},h=Z(e.AI,c);t=h[0],C=h[1],e.U=i;var f={x:t,y:C,width:r,height:s},_=zingchart.DEV.SPREADTYPE;l=!0;for(var B=0,v=0,p=-1,I=0,D=0;l&&D<1024;){l=!1;for(var d=0,K=e.A.A.TQ.length;d<K;d++)a=e.A.A.TQ[d],(ZC.AO.XI(f,a)||f.x+i.I>e.C.P.iX+e.C.P.I||f.x<e.C.P.iX||f.y+i.F>e.C.P.iY+e.C.P.F||f.y<e.C.P.iY)&&(l=!0,0===_?(B+=.4,p*=-1):1===_&&(v+=2),h=Z(e.AI+v,c+B*p),f.x=h[0],f.y=h[1],D++,++I>100&&(I=0,0===_?(B=0,v+=2):1===_&&(v=0,B+=.4,p*=-1)))}t=f.x,C=f.y,u=c+B,a={text:e.A.AR,x:f.x,y:f.y,width:r,height:s,plotindex:e.A.L,nodeindex:e.L},e.A.A.TQ.push(a)}else if("in"===A||"radial"===A){var E=e.CN<30?.65:.5;t=(o=e.B3%360==e.BI%360?0===e.CN?[e.iX,e.iY]:ZC.AO.BK(e.iX,e.iY,e.CN+.3*(e.AI-e.CN)+e.DR+i.DR,270):ZC.AO.BK(e.iX,e.iY,e.CN+E*(e.AI-e.CN)+e.DR+i.DR,u))[0]-r/2+e.BJ,C=o[1]-s/2+e.BH}else if(-1!==A.indexOf("fixed=")){var g=A.split(/=|;|,/),N=(e.AI+e.CN)/2,Y=u;g[1]&&(N=(N=ZC.IG(g[1],!0))>=-1&&N<=1||-1!==g[1].indexOf("%")?e.CN+e.DR+N*(e.AI-e.CN):e.CN+e.DR+N),g[2]&&(Y=(Y=ZC.IG(g[2],!0))>=-1&&Y<=1||-1!==g[2].indexOf("%")?e.B3+Y*(e.BI-e.B3):e.B3+Y),g[3]&&("+"===g[3].charAt(0)||"-"===g[3].charAt(0)?(Y%=360,i.AA=Y+ZC._f_(g[3]),i.AA>90&&i.AA<270&&(i.AA+=180)):i.AA=ZC._f_(g[3])),t=(o=ZC.AO.BK(e.iX,e.iY,N,Y))[0]-r/2,C=o[1]-s/2}else"center"===A&&(t=e.iX-r/2+e.BJ,C=e.iY-s/2+e.BH);return l&&(t=-9999,C=-9999,i.AM=!1),null!==ZC._n_(i.o.x)&&(t=i.iX),null!==ZC._n_(i.o.y)&&(C=i.iY),t>=-2&&(t=ZC._a_(t)),C>=-2&&(C=ZC._a_(C)),[ZC._i_(t),ZC._i_(C),u]},appendToValueBox:function(i){var n=this,e={};if("radial"===i.o.placement){var A=.9*ZC._a_(n.AI-n.CN),t=Math.PI*(n.AI+n.CN)*.9*ZC._a_(n.BI-n.B3)/360,C=ZC._i_(Math.max(A,t)/(.75*i.DK));if(null===ZC._n_(i.o.visible)?e.visible=1===n.A.A.A6.length||t>1.25*i.DK:e.visible=i.J5.visible,null===ZC._n_(i.o["max-chars"])&&(e["max-chars"]=C),null===ZC._n_(i.o.angle)){var a=(n.B3+n.BI)/2%360;n.A.A.A6.length>1?t>A?a>0&&a<180?a-=90:a+=90:a>90&&a<270&&(a+=180):a=0,e.angle=a}}return e},GU:function(i,n){var e,A=this,t=A.b(i,n);if(i)return t;if(A.AM&&t.AM&&null!==ZC._n_(t.AR)&&""!==t.AR){var C="out";if(null!==ZC._n_(e=t.o.placement)&&(C=e),"out"===C){var a=!0;if(null!==ZC._n_(e=t.o.connected)&&(a=ZC._b_(e)),a){var l=new ZC.DW(A.A);l.Z=l.C6=A.A.CO("bl",0),l.append(A.A.C2.o),l.K=A.K+"-connector",l.B9=A.A0,l.DQ="line",l.D=[];var o=t.E.positioninfo,r=(A.B3+A.BI)/2%360,s=ZC.AO.BK(A.iX,A.iY,A.AI+A.DR,r);s[0]+=A.BJ,s[1]+=A.BH,l.D.push(s);var u=ZC.AO.BK(A.iX,A.iY,A.AI+A.DR+10,r);u[0]+=A.BJ,u[1]+=A.BH,t.iX>=A.iX?"vml"===A.H.AC?l.D.push([o[0],o[1]+t.F/2]):l.D.push([u[0],u[1],o[0],o[1]+t.F/2]):"vml"===A.H.AC?l.D.push([o[0]+t.I+2,o[1]+t.F/2]):l.D.push([u[0],u[1],o[0]+t.I+2,o[1]+t.F/2]),l.parse(),l.JE=function(i){return A.JE(i)},l.DE()&&l.parse(),l.AM&&l.paint()}}}},paint:function(){var i,n=this;if(n.b(),!(n.AD<0)){var e=n.C.BN(n.A.BT("k")[0]);n.setup();var A="pie-sel-"+n.A.L+"-"+n.L;if(n.o.detached&&"undefined"==typeof n.C.E[A]&&(n.C.E[A]=!0),n.AI=ZC.CY(e.G8,e.GH)/2,null!==ZC._n_(n.A.o.size)){var t=ZC.IG(n.A.o.size,!1);n.AI=t<=1?n.AI*t:t}else n.AI=e.JM*n.AI;n.CN<=1&&(n.CN*=n.AI),n.CN=Math.max(0,n.CN),n.o.slice=n.CN,n.DR<=1&&(n.DR*=n.AI),n.o["offset-r"]=n.DR,n.C.E[A]&&(n.DR+=ZC._i_(.15*n.AI));var C=n.N=n.A.I8(n,n);if(n.GZ(C),n.AD>=0||0===n.A.A.KH[n.L]){var a=new ZC.DW(n.A);a.K=n.K,a.Z=n.A.CO("bl",1),a.C6=n.A.CO("bl",0),a.copy(C);var l=n.iX,o=n.iY;n.DR>0&&(l=(i=ZC.AO.BK(n.iX,n.iY,n.DR,(n.B3+n.BI)/2))[0],o=i[1]),a.iX=l,a.iY=o,a.AI=n.AI,a.o.size=n.AI,a.DQ="pie",a.B3=ZC._f_(n.B3),a.BI=ZC._f_(n.BI),a.CN=n.CN,a.E.plotidx=n.A.L,a.E.nodeidx=n.L,a.parse(),n.G0=a;var r=function(){if(!n.A.K5&&n.AM){var i=a.FB(),e=n.C.K+"-node-area "+n.C.K+"-plotset-plot-"+n.A.L+"-node-area zc-node-area",A=ZC.Q.GC("poly",n.A.E8,n.A.IR)+'class="'+e+'" id="'+n.K+'" coords="'+i+'" />';n.A.A.HN.push(A)}n.A.U&&n.GU()};if(n.A.GA&&!n.C.HF){var s=a,u={};s.iX=l,s.iY=o,s.B3=n.B3,s.BI=n.BI,u.angleStart=n.B3,u.angleEnd=n.BI,u.x=l,u.y=o;var c=n.A.L6;s.C5=0,u.alpha=C.C5,2===c?(s.BI=n.B3,u.angleEnd=n.BI):3===c?(s.AI=n.CN,u.size=n.AI):4===c?(i=ZC.AO.BK(n.iX,n.iY,1.2*n.AI,(n.B3+n.BI)/2),s.iX=i[0],s.iY=i[1],u.x=l,u.y=o):5===c&&(s.B3=s.BI=(n.B3+n.BI)/2,u.angleStart=n.B3,u.angleEnd=n.BI);var Z;for(Z in n.A.FT)s[ZC.EA.GK[ZC.EC(Z)]]=n.A.FT[Z],u[ZC.EC(Z)]=C[ZC.EA.GK[ZC.EC(Z)]];if(null===ZC._n_(n.C.EM)&&(n.C.EM={}),null!==ZC._n_(n.C.EM[n.A.L+"-"+n.L]))for(Z in n.C.EM[n.A.L+"-"+n.L])s[ZC.EA.GK[ZC.EC(Z)]]=n.C.EM[n.A.L+"-"+n.L][Z];n.C.EM[n.A.L+"-"+n.L]={},ZC._cp_(u,n.C.EM[n.A.L+"-"+n.L]);var h=new ZC.EA(s,u,n.A.JD,n.A.L2,ZC.EA.RC[n.A.L5],function(){r()});h.AW=n,n.LL(h)}else a.paint(),r()}else n.A.U&&n.GU()}},A3H:function(i){var n=this;ZC.move||n.M2({layer:i,type:"shape",initcb:function(){if(this.copy(n),this.iX=n.iX,this.iY=n.iY,n.DR>0){var i=ZC.AO.BK(n.iX,n.iY,n.DR,(n.B3+n.BI)/2);this.iX=i[0],this.iY=i[1]}this.AI=n.AI,this.DQ="pie",this.A0=n.A.BP[3],this.AE=n.A.BP[2],this.B3=ZC._f_(n.B3),this.BI=ZC._f_(n.BI),this.CN=n.CN},parsecb:function(){this.o.size=n.AI,this.o.slice=n.CN,this.o["offset-r"]=n.DR}})},WX:function(i,n){var e=this;if(e.b(i,n),"click"===n&&i.which<=1&&e.A.A7J){zingchart.SKIP.ANIMATION=!0,zingchart.SKIP.EVENT=!0;var A="pie-sel-"+e.A.L+"-"+e.L;e.C.E[A]="undefined"==typeof e.C.E[A]||!e.C.E[A],e.C.K3(),zingchart.SKIP.EVENT=!1,zingchart.SKIP.ANIMATION=!1}}});
/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.1
*/
ZC.A2G=ZC.D0.C7({$i:function(e,i){this.b(e);var l=this;l.BF=e,l.JA=!1,l.Z=null,l.A70="",l.KO=1,l.GX=1,l.AF="scroll-"+(i||"y")},parse:function(){var e,i=this;i.K=i.BF.K+"-legend-"+i.AF;var l=i.BF.A.H.B7,n="("+i.BF.A.AF+")";i.AX=new ZC.HS(i.BF),l.load(i.AX.o,[n+".legend.scroll.bar",i.AF+".bar"]),null!==ZC._n_(e=i.o.bar)&&i.AX.append(e),i.AX.parse(),i.AZ=new ZC.HS(i.BF),l.load(i.AZ.o,[n+".legend.scroll.handle",i.AF+".handle"]),null!==ZC._n_(e=i.o.handle)&&i.AZ.append(e),i.AZ.parse()},paint:function(){var e,i=this;if(!i.JA){i.Z=ZC.AK(i.BF.A.K+"-legend-scroll-c");var l=ZC.AK(i.H.K+"-top");"scroll-y"===i.AF?(i.AX.iX=i.BF.iX+i.BF.I-i.AX.I-1,i.AX.iY=i.BF.EJ,i.AX.F=i.BF.F-(i.BF.KI?i.BF.KI.F:0)-(i.BF.EJ-i.BF.iY),e=Math.ceil(i.BF.B6.length/i.GX-i.BF.EE/i.GX)+1,i.AZ.F=i.AX.F/e,i.AZ.iY=i.AX.iY,0!==i.BF.D2.min&&(i.AZ.iY+=i.BF.D2.min/i.GX*i.AZ.F),ZC.AK(i.K+"-legend-handle")?(ZC.A4("#"+i.K+"-legend-handle").css("left",i.AX.iX+"px").css("top",i.AZ.iY+"px").css("height",i.AZ.F-0*i.AZ.AT+"px"),ZC.A4("#"+i.K+"-legend-bar").css("left",i.AX.iX+"px").css("top",i.AX.iY+"px"),ZC.A4("#"+i.BF.K+"-frame").css("left",i.BF.iX+"px").css("top",i.BF.EJ+"px"),i.paint_()):(i.AAF=ZC.Q.HX({cls:"zc-abs zc-scroll zc-scroll-y-bar "+i.BF.K+"-scroll-y-legend-bar",id:i.K+"-legend-bar",wh:i.AX.I+"/"+i.AX.F,tl:i.AX.iY+"/"+i.AX.iX,background:"#fff",opacity:0,zidx:1,p:l}),i.ZD=ZC.Q.HX({cls:"zc-abs zc-scroll zc-scroll-y-handle "+i.BF.K+"-scroll-y-legend-handle",id:i.K+"-legend-handle",wh:i.AX.I-0*i.AZ.AT+"/"+(i.AZ.F-0*i.AZ.AT),tl:i.AZ.iY+"/"+i.AX.iX,background:"#fff",opacity:0,zidx:1,p:l}),i.ZD.style.cursor="pointer",i.paint_())):"scroll-x"===i.AF&&(i.AX.iX=i.BF.iX,i.AX.iY=i.BF.iY+i.BF.F-i.AX.F-1,i.AX.I=i.BF.I,e=Math.ceil(i.BF.B6.length/i.KO-i.BF.EE/i.KO)+1,i.AZ.I=i.AX.I/e,i.AZ.iX=i.AX.iX,0!==i.BF.D2.min&&(i.AZ.iX+=i.BF.D2.min/i.KO*i.AZ.I),ZC.AK(i.K+"-legend-handle")?(ZC.A4("#"+i.K+"-legend-handle").css("left",i.AZ.iX+"px").css("top",i.AX.iY+"px").css("width",i.AZ.I-0*i.AZ.AT+"px"),ZC.A4("#"+i.K+"-legend-bar").css("left",i.AX.iX+"px").css("top",i.AX.iY+"px"),ZC.A4("#"+i.BF.K+"-frame").css("left",i.BF.iX+"px").css("top",i.BF.EJ+"px"),i.paint_()):(i.AAC=ZC.Q.HX({cls:"zc-abs zc-scroll zc-scroll-x-bar "+i.BF.K+"-scroll-x-legend-bar",id:i.K+"-legend-bar",wh:i.AX.I+"/"+i.AX.F,tl:i.AX.iY+"/"+i.AX.iX,background:"#fff",opacity:0,zidx:1,p:l}),i.ZG=ZC.Q.HX({cls:"zc-abs zc-scroll zc-scroll-x-handle "+i.BF.K+"-scroll-x-legend-handle",id:i.K+"-legend-handle",wh:i.AZ.I-0*i.AZ.AT+"/"+(i.AX.F-0*i.AZ.AT),tl:i.AX.iY+"/"+i.AZ.iX,background:"#fff",opacity:0,zidx:1,p:l}),i.ZG.style.cursor="pointer",i.paint_())),ZC.move||i.bind()}},paint_:function(){var e,i,l=this;"scroll-y"===l.AF?((e=new ZC.HS(l)).K=l.BF.K+"-scroll-y-legend-bar",e.copy(l.AX),e.Z=l.Z,e.iX=l.AX.iX,e.iY=l.AX.iY,e.I=l.AX.I,e.F=l.AX.F,e.paint(),(i=new ZC.HS(l)).K=l.BF.K+"-scroll-y-legend-handle",i.copy(l.AZ),i.Z=l.Z,i.iX=l.AX.iX,i.iY=l.AZ.iY,i.I=l.AZ.I,i.F=l.AZ.F,i.paint()):"scroll-x"===l.AF&&((e=new ZC.HS(l)).K=l.BF.K+"-scroll-x-legend-bar",e.copy(l.AX),e.Z=l.Z,e.iX=l.AX.iX,e.iY=l.AX.iY,e.I=l.AX.I,e.F=l.AX.F,e.paint(),(i=new ZC.HS(l)).K=l.BF.K+"-scroll-x-legend-handle",i.copy(l.AZ),i.Z=l.Z,i.iX=l.AZ.iX,i.iY=l.AX.iY,i.I=l.AZ.I,i.F=l.AX.F,i.paint())},update:function(e){var i,l,n,o,a,A,r=this,t=r.BF;if("scroll-y"===r.AF){if(e<r.AZ.iY&&!1,e===r.AZ.iY)return;r.AZ.iY=e,ZC.A4("#"+r.K+"-legend-handle").css("top",e+"px"),i=r.AZ.iY-r.AX.iY,o=Math.ceil(t.B6.length/r.GX-t.EE/r.GX)+1,l=r.AX.F/o,A=r.GX}else if("scroll-x"===r.AF){if(e>r.AZ.iX&&!1,e===r.AZ.iX)return;r.AZ.iX=e,ZC.A4("#"+r.K+"-legend-handle").css("left",e+"px"),i=r.AZ.iX-r.AX.iX,o=Math.ceil(t.B6.length/r.KO-t.EE/r.KO)+1,l=r.AX.I/o,A=r.KO}n=Math.round(i/l),a=t.B6.length-t.EE,t.B6.length%A&&(a+=A-t.B6.length%A),t.D2.min=Math.min(n*A,a),t.D2.max=t.D2.min+t.EE,t.VW(),t.clear(!1),t.parse(),t.paint(),r.paint_(),r.bind()},unbind:function(){var e=this;ZC.A4("."+e.BF.K+"-"+e.AF+"-legend-handle").unbind("mousedown touchstart",e.RB),ZC.A4("."+e.BF.K+"-"+e.AF+"-legend-bar").unbind("click",e.R7)},bind:function(){var e=this,i=e.H.K,l=0,n=0;e.RB=function(o){if(o.preventDefault(),!(o.button>1)){for(var a=o.target;a&&"BODY"!==a.tagName.toUpperCase()&&-1===ZC.Q.SV(a).indexOf("zc-"+e.AF+"-handle");)a=a.parentNode;if((ZC.mobile||!(o.which>1))&&a){var A=ZC.Q.M7(o),r=ZC.A4("#"+i+"-top").offset();if("scroll-y"===e.AF){var t=A[1]-r.top;n=t-e.AZ.iY}else if("scroll-x"===e.AF){var d=A[0]-r.left;l=d-e.AZ.iX}return ZC.A4(document.body).bind("mousemove touchmove",e.R6),ZC.A4(document.body).bind("mouseup touchend",e.NI),e.JA=!0,!1}}},e.R6=function(o){if(o.preventDefault(),e.JA){var a=ZC.Q.M7(o),A=ZC.A4("#"+i+"-top").offset();if("scroll-y"===e.AF){var r=a[1]-A.top;r-n<e.AX.iY&&(r=e.AX.iY+n),r-n+e.AZ.F>e.AX.iY+e.AX.F&&(r=e.AX.iY+e.AX.F+n-e.AZ.F),e.update(r-n)}else if("scroll-x"===e.AF){var t=a[0]-A.left;t-l<e.AX.iX&&(t=e.AX.iX+l),t-l+e.AZ.I>e.AX.iX+e.AX.I&&(t=e.AX.iX+e.AX.I+l-e.AZ.I),e.update(t-l)}}return!1},e.NI=function(){return e.H.KM=e.A70.split(","),e.JA&&(ZC.A4(document.body).unbind("mousemove touchmove",e.R6),ZC.A4(document.body).unbind("mouseup touchend",e.NI),e.JA=!1),!1},e.A33=function(i){(i.detail?-120*i.detail:i.wheelDelta)/120>0?e.update(ZC.BQ(e.AX.iY,e.AZ.iY-e.AZ.F)):e.update(ZC.CY(e.AX.iY+e.AX.F-e.AZ.F,e.AZ.iY+e.AZ.F))},e.R7=function(l){e.JA=!0;var n=ZC.Q.M7(l),o=ZC.A4("#"+i+"-top").offset();"scroll-y"===e.AF?n[1]-o.top>e.AZ.iY?e.update(ZC.CY(e.AX.iY+e.AX.F-e.AZ.F,e.AZ.iY+e.AZ.F)):e.update(ZC.BQ(e.AX.iY,e.AZ.iY-e.AZ.F)):"scroll-x"===e.AF&&(n[0]-o.left>e.AZ.iX?e.update(ZC.CY(e.AX.iX+e.AX.I-e.AZ.I,e.AZ.iX+e.AZ.I)):e.update(ZC.BQ(e.AX.iX,e.AZ.iX-e.AZ.I))),e.JA=!1},ZC.A4("."+e.BF.K+"-"+e.AF+"-legend-handle").bind("mousedown touchstart",e.RB),ZC.A4("."+e.BF.K+"-"+e.AF+"-legend-bar").bind("click",e.R7)}}),ZC.A1A=ZC.DS.C7({$i:function(e){this.b(e);var i=this;i.O8="legend",i.B6=null,i.PY=null,i.NB="x1",i.IH="hide",i.QX="",i.PL="",i.UK=!1,i.V0=!1,i.TB="none",i.U5="header",i.EE=9999,i.DC=null,i.BR=null,i.ZA=null,i.A2=null,i.NJ=null,i.FN=null,i.KI=null,i.PZ=0,i.MA=0,i.YM=!0,i.EJ=0,i.GL=0,i.sAlign="",i.JU="",i.D2={enabled:!1,min:-1,max:-1,page:-1,pages:-1},i.LX=!1,i.N7=!1,i.N4=-1,i.S3=!1,i.A4T=1,i.WD=0,i.L8=!1,i.XN=!1,i.YA=!1,i.XC=[]},highlightItem:function(e){var i,l,n=this,o=!1,a=ZC.move,A=n.L8;-1!==e&&(A=n.L8||n.A.AY.A6[e].L8),n.o.item&&null!==ZC._n_(i=n.o.item["highlight-item"])&&(o=ZC._b_(i),null===ZC._n_(n.o["highlight-legend"])&&null===n.A.AY.A6[e].o["highlight-legend"]&&(A=o)),(o||A)&&(o&&(n.E["highlight-item"]=e),A&&(n.E["highlight-legend"]=ZC._i_(e)),l=n.scrollTo(ZC._i_(e)),n.VW(),n.clear(!0,l),n.YM=!0,n.parse(),n.fixPlacement(!0),n.paint(),ZC.move=a)},scrollTo:function(e){var i,l,n=this,o=!1;return e>=0&&(e<n.D2.min||e>=n.D2.max)&&(o=!0,"scroll"===n.TB?(e%(l="scroll-y"===n.DC.AF?n.DC.GX:n.DC.KO)&&(e-=e%l),n.D2.min=e,n.D2.max=e+n.EE,n.D2.max>n.B6.length&&(n.D2.min=n.B6.length-n.EE,n.B6.length%l&&(n.D2.min=n.D2.min+(l-n.B6.length%l)),n.D2.max=n.B6.length)):"page"===n.TB&&(i=Math.floor(e/n.EE),n.D2.min=i*n.EE,n.D2.max=n.D2.min+n.EE,n.D2.page=i+1)),o},parse:function(){var e,i,l,n=this;n.E["force-margins"]=!0,n.PZ=0,n.MA=0,null!==ZC._n_(e=n.A.A.E["graph-"+n.A.K+"-legend-info"])&&(n.o.x=e.x-n.A.iX,n.o.y=e.y-n.A.iY);var o;if(ZC.move)n.FN&&n.FN.parse(),n.KI&&n.KI.parse();else{o=n.A.H.B7;var a="("+n.A.AF+")";n.b(),n.assign_a([["collapse","LX","b"],["minimize","UK","b"],["draggable","V0","b"],["shared","S3","b"],["overflow","TB"],["max-items","EE","i"],["group","A4T","i"],["drag-handler","U5"],["highlight-plot","WD","b"],["highlight-legend","L8","b"],["align","sAlign"],["vertical-align","JU"]]),n.LX&&!n.UK&&(n.LX=!1),zingchart.DEV.MEDIARULES&&(n.E["forced-align-position"]||(n.alignPosition({align:n.sAlign,"vertical-align":n.JU,layout:n.NB}),n.E["forced-align-position"]=!0)),n.WD&&null===ZC._n_(n.o["highlight-legend"])&&(n.L8=n.WD),n.BR=new ZC.DS(n),o.load(n.BR.o,a+".legend.item"),n.o.item&&null===ZC._n_(n.o.item.visible)&&(n.o.item.visible=!0),n.BR.append(n.o.item),n.BR.parse(),n.ZA=new ZC.DS(n),o.load(n.ZA.o,a+".legend.item-off"),n.o["item-off"]&&null===ZC._n_(n.o["item-off"].visible)&&(n.o["item-off"].visible=!0),n.ZA.append(n.o["item-off"]),n.ZA.parse(),n.A2=new ZC.DW(n),o.load(n.A2.o,a+".legend.marker"),n.o.marker&&null===ZC._n_(n.o.marker.visible)&&(n.o.marker.visible=!0),n.A2.append(n.o.marker),n.A2.E.type="default",n.A2.E["show-marker"]=!0,n.A2.E["show-line"]=!1,null!==ZC._n_(e=n.A2.o.type)&&(n.A2.E.type=e),null!==ZC._n_(e=n.A2.o["show-line"])&&(n.A2.E["show-line"]=ZC._b_(e)),null!==ZC._n_(e=n.BR.o["marker-style"])&&(n.A2.E.type=e),null!==ZC._n_(e=n.BR.o["show-line"])&&(n.A2.E["show-line"]=ZC._b_(e)),null!==ZC._n_(e=n.BR.o["show-marker"])&&(n.A2.o.visible=ZC._b_(e)),n.A2.parse(),n.NJ=new ZC.DW(n),o.load(n.NJ.o,a+".legend.marker-off"),n.o["marker-off"]&&(n.o["marker-off"].visible=!0),n.NJ.append(n.o["marker-off"]),n.NJ.E.type="default",n.NJ.E["show-marker"]=!0,n.NJ.E["show-line"]=!1,null!==ZC._n_(e=n.NJ.o.type)&&(n.NJ.E.type=e),null!==ZC._n_(e=n.NJ.o["show-line"])&&(n.NJ.E["show-line"]=ZC._b_(e)),null!==ZC._n_(e=n.BR.o["marker-style"])&&(n.NJ.E.type=e),null!==ZC._n_(e=n.BR.o["show-line"])&&(n.NJ.E["show-line"]=ZC._b_(e)),null!==ZC._n_(e=n.BR.o["show-marker"])&&(n.NJ.o.visible=ZC._b_(e)),n.NJ.parse(),(null!==ZC._n_(e=n.o.header)||n.V0||n.UK)&&(n.FN=new ZC.DS(n),n.FN.O8="legendheader",n.FN.GJ="zc-legend-item "+n.K+"-header",n.FN.K=n.K+"-header",o.load(n.FN.o,a+".legend.header"),n.FN.o.text=n.FN.o.text||" ",n.FN.append(e),n.FN.parse(),n.FN.AM||(n.FN=null)),null!==ZC._n_(e=n.o.footer)&&(n.KI=new ZC.DS(n),n.KI.O8="legendfooter",n.KI.GJ="zc-legend-item "+n.K+"-footer",n.KI.K=n.K+"-footer",o.load(n.KI.o,a+".legend.footer"),n.KI.append(e),n.KI.parse(),n.KI.AM||(n.KI=null));var A=n.A.AY.A6;null!==ZC._n_(e=n.o.layout)?n.NB=e:25*A.length>n.A.F&&(n.NB="x"+Math.ceil(25*A.length/n.A.F)),null!==ZC._n_(e=n.o["toggle-action"])&&(n.IH=e),n.QX=n.PL=n.IH,null!==ZC._n_(n.o.item)&&null!==ZC._n_(e=n.o.item["toggle-action"])&&(n.QX=e),null!==ZC._n_(n.o.marker)&&null!==ZC._n_(e=n.o.marker["toggle-action"])&&(n.PL=e);var r=[];for(n.B6=[],i=0,l=A.length;i<l;i++){var t=n.A.AY.M0[i],d=new ZC.DS(n);d.copy(n.BR),d.append(A[t].o["legend-item"]),null===ZC._n_(d.o.text)&&null!==ZC._n_(e=A[t].A64)&&(d.o.text=e),null===ZC._n_(d.o.text)&&null!==ZC._n_(e=A[t].AR)&&(d.o.text=e),d.AR=null===ZC._n_(d.o.text)?"Series "+(t+1):d.o.text,d.E.order=t,d.E.index=t,null!==ZC._n_(A[t].o["legend-item"])&&null!==ZC._n_(e=A[t].o["legend-item"].order)&&(d.E.order=ZC._i_(e)),r.push([i,t,d.E.order]),-1!==d.AR.indexOf("%")&&(d.KE=function(e){if(A[i]&&A[i].FP(0)){var l=ZC.AP.OQ(n.BR.o,A[i].o);e=A[i].FP(0).KE(e,l)}return e}),d.parse(),n.B6.push(d)}for(r.sort(function(e,i){return e[2]-i[2]}),i=0;i<r.length;i++)r[i][2]=i,A[r[i][1]].o["legend-item"]=A[r[i][1]].o["legend-item"]||{},A[r[i][1]].o["legend-item"].order=r[i][2],n.B6[r[i][0]].E.order=r[i][2];(e=n.A.E["legend-info"])&&(n.N7=e.collapsed)}if(n.B6&&n.A2){"page"===n.TB?((e=n.A.E["legend-info"])?(n.D2.min=e.min,n.D2.max=e.max,n.D2.page=e.page):(n.D2.min=0,n.D2.max=n.EE,n.D2.page=1),n.D2.pages=Math.ceil(n.B6.length/n.EE),n.D2.page>n.D2.pages&&(n.D2.page=n.D2.pages,n.D2.min=(n.D2.page-1)*n.EE,n.D2.max=n.D2.page*n.EE-1),n.D2.page=ZC.CY(n.D2.page,n.D2.pages)):"scroll"===n.TB?(e=n.A.E["legend-info"])?(n.D2.min=e.min,n.D2.max=e.max,n.D2.page=e.page):(n.D2.min=0,n.D2.max=n.EE,n.D2.page=1):(n.D2.min=0,n.D2.max="hidden"===n.TB?n.EE:n.B6.length,n.D2.page=1),n.VW(!1),n.B6.sort(function(e,i){return e.E.order-i.E.order}),n.o["reverse-series"]&&n.B6.reverse();var Z=.9*n.A.I;null!==ZC._n_(n.o.width)&&(Z=n.I);var s=0,C=0,g=-ZC.MAX,c=-ZC.MAX,p=n.A2.E["show-line"]?3:2,u=0,m=1,F=1;if("float"===n.NB){for(i=0,l=n.B6.length;i<l;i++)if(u+=n.B6[i].AM?1:0,!(i<n.D2.min||i>=n.D2.max||n.N7)&&n.B6[i].AM){var h=n.B6[i].I+n.B6[i].DV+n.B6[i].E6+p*n.B6[i].DK;c=ZC.BQ(c,n.B6[i].F+n.B6[i].E5+n.B6[i].DP),s+h>Z?(g=ZC.BQ(g,s),C+=c,s=h,c=ZC.BQ(c,n.B6[i].F+n.B6[i].E5+n.B6[i].DP)):s+=h}g=ZC.BQ(g,s),c!==-ZC.MAX&&(C+=c),g!==-ZC.MAX&&(s=g)}else{var f=0;for(i=0,l=n.B6.length;i<l;i++)u+=n.B6[i].AM?1:0,i<n.D2.min||i>=n.D2.max||n.N7||(f+=n.B6[i].AM?1:0);var _=ZC.AO.A20(n.NB,f);for(m=_[0],F=_[1],i=0,l=n.B6.length;i<l;i++)(i<n.D2.min||i>=n.D2.max||n.N7)&&("scroll"!==n.TB||u<=n.EE)||n.B6[i].AM&&(g=ZC.BQ(g,n.B6[i].I+n.B6[i].DV+n.B6[i].E6+p*n.B6[i].DK),c=ZC.BQ(c,n.B6[i].F+n.B6[i].E5+n.B6[i].DP),1===F&&(C+=n.B6[i].F+n.B6[i].E5+n.B6[i].DP));s=F*g,C=m*c}if("page"===n.TB&&u>n.EE&&(n.D2.enabled=!0),"scroll"===n.TB&&u>n.EE&&(n.DC||(!m||m>F?(n.DC=new ZC.A2G(n,"y"),o.load(n.DC.o,".scroll-y")):(n.DC=new ZC.A2G(n,"x"),o.load(n.DC.o,".scroll-x")),n.DC.append(n.o.scroll),n.DC.KO=m,n.DC.GX=F,n.DC.parse()),n.N7||("scroll-y"===n.DC.AF?s+=n.DC.AX.I:C+=n.DC.AX.F)),n.FN){var X=n.FN.I;n.V0&&"icon"===n.U5?(X+=15,n.UK&&(X+=25)):n.UK&&(X+=15),s=ZC.BQ(s,X)}n.KI&&(s=ZC.BQ(s,n.KI.I));var B=!1,E=!1;if(null===ZC._n_(n.o.width)&&(n.o.width=s,B=!0),null===ZC._n_(n.o.height)&&(n.o.height=C,E=!0),n.iX=-1,n.iY=-1,!ZC.move&&n.FN&&null!==ZC._n_(e=n.A.A.E["legend"+n.A.L+"-xy-ratio"])){n.locate();var v=n.I+n.EP+n.FK,K=n.F+n.FJ+n.FR,D=n.S3?n.A.A:n.A;n.iX=D.I*e[0],n.iX=ZC.BQ(n.iX,1.1),n.o.x=n.iX=ZC.CY(n.iX,D.I-v-2),n.iY=(D.F-n.FN.F)*e[1],n.iY=ZC.BQ(n.iY,1.1),n.o.y=n.iY=ZC.CY(n.iY,D.F-K-n.FN.F-2)}if(n.locate(),null!==ZC._n_(n.o.position)&&"undefined"!=typeof n.E["position-info"]?(n.E["position-info"][0]>.5&&(n.PZ+=n.EP+n.FK),n.E["position-info"][1]>.5?n.MA+=n.FJ+n.FR:(n.FN&&(n.MA-=n.FN.F),n.KI&&(n.MA-=n.KI.F),n.D2&&n.D2.enabled&&(n.MA-=20))):((0===n.A.iX||n.iX+n.I/2>n.A.iX+n.A.I/2)&&(n.PZ+=n.EP+n.FK),(0===n.A.iY||n.iY+n.F/2>n.A.iY+n.A.F/2)&&(n.MA+=n.FJ+n.FR)),!ZC.move&&(e=n.A.A.E["graph-"+n.A.K+"-legend-info"])&&(e.x&&(n.iX=e.x),e.y&&(n.iY=e.y)),n.GL=n.F,n.EJ=n.iY,n.FN&&(n.F+=n.FN.F,n.EJ+=n.FN.F,n.MA+=n.FN.F),n.KI&&(n.F+=n.KI.F,n.MA+=n.KI.F),n.D2.enabled&&!n.N7){var I=new ZC.DS(n);I.AR=" ",I.append(n.o["page-status"]),null!==ZC._n_(I.o.text)&&""!==I.o.text||(I.o.text="#"),I.parse(),n.F+=I.F+4,n.MA+=I.F+4}B&&(n.o.width=null),E&&(n.o.height=null),n.N7||(n.I+=n.EP+n.FK,n.F+=n.FJ+n.FR),n.E["default-width"]&&(n.I=n.E["default-width"])}},alignPosition:function(e){var i=this;if(null!==ZC._n_(e)){var l=i.A.H.B7.B7.graph.legend,n=e.align||l.align,o=e["vertical-align"]||l["vertical-align"],a=e.layout||l.layout;(n||o)&&("center"===n?(null===ZC._n_(i.o.layout)&&(a=i.o.layout="horizontal"),i.o.position="50% "):i.o.position="left"===n?"0% ":"100% ",i.o.position+="middle"===o?"50%":"bottom"===o?"100%":"0%","horizontal"!==a&&"middle"!==o||(i.o["adjust-layout"]=!0))}},VW:function(e){var i=this;void 0===e&&(e=!0),i.A.E["legend-info"]={collapsed:i.N7,min:i.D2.min,max:i.D2.max,page:i.D2.page},e&&(i.A.A.E["graph-"+i.A.K+"-legend-info"]={x:i.iX,y:i.iY})},clear:function(e,i){null===ZC._n_(e)&&(e=!1),null===ZC._n_(i)&&(i=!1);var l=this,n=l.A.K+"-legend-",o=null;ZC.A4("."+n+"item",o).remove(),ZC.A4("."+n+"header",o).remove(),ZC.A4("."+n+"footer",o).remove(),ZC.A4("#"+n+"page-status",o).remove(),e&&!i||(ZC.move||l.unbind(),ZC.A4("."+n+"page-area",o).remove(),ZC.A4("."+n+"header-area",o).remove(),ZC.A4("."+n+"item-area",o).remove(),ZC.A4("."+n+"marker-area",o).remove()),ZC.move?ZC.Q.IQ(ZC.AK(n+"c"),l.A.H.AC,l.A.iX,l.A.iY,l.A.I,l.A.F):ZC.Q.IQ(ZC.AK(n+"c"),l.A.H.AC,l.iX-2*l.AT-2*l.JP,l.iY-2*l.AT-2*l.JP,l.I+4*l.AT+4*l.JP,l.F+4*l.AT+4*l.JP),l.DC&&ZC.Q.IQ(ZC.AK(n+"scroll-c"),l.A.H.AC,l.A.iX,l.A.iY,l.A.I,l.A.F)},unbind:function(){var e=this;ZC.A4("#"+e.K+"-frame").die(ZC.Q.C0("mouseover"),e.zc_legend_mouseover).die(ZC.Q.C0("mouseout"),e.zc_legend_mouseout),ZC.A4("#"+e.K+"-move-area").die(ZC.Q.C0("mousedown"),e.YX),ZC.A4("#"+e.K+"-minimize-area").die(ZC.Q.C0("click"),e.XT),ZC.A4("."+e.K+"-page-area").die(ZC.Q.C0("click"),e.YC),e.DC&&e.DC.unbind(),e.BR&&e.BR.o.reorder&&ZC.A4("."+e.A.K+"-legend-item-area").die("mousedown",e.VH)},fixPlacement:function(e){var i=this;if(i.YM&&null===ZC._n_(i.o.y)||e){if(!i.o.position&&e||(i.iX-=i.PZ),i.iX<i.DV&&(i.DV<i.E6||-2===i.E6)&&(i.iX=i.DV),!i.o.position&&e||(i.iY-=i.MA,i.EJ-=i.MA),i.iY<i.E5&&(i.E5<i.DP||-2===i.DP)){var l=i.EJ-i.iY;i.iY=i.E5,i.EJ=i.E5+l}i.YM=!1}},EL:function(e){var i=this;i.FN&&i.FN.EL(e),i.KI&&i.KI.EL(e);for(var l=0;l<i.XC.length;l++)i.XC[l].EL(e)},paint:function(e){var i,l,n,o,a,A,r,t,d,Z,s,C,g,c,p,u,m=this;if(m.AM&&(m.E["default-width"]||(m.E["default-width"]=m.I),m.B6)){var F=ZC.AK(m.H.K+"-top"),h=m.A.AY.A6,f=0;for(A=0,r=m.B6.length;A<r;A++)A<m.D2.min||A>=m.D2.max||m.N7||(f+=m.B6[A].AM?1:0);m.A4K=!0,m.b(),m.FN&&(m.FN.iX=m.iX,m.FN.iY=m.iY,m.FN.I=m.I,m.FN.Z=m.FN.C6=m.Z,m.FN.paint(),ZC.move||"canvas"!==m.A.A.AC&&m.FN.EL(),m.V0&&"icon"===m.U5&&((n=new ZC.DW(m)).Z=m.Z,n.B9="#000",n.B0=1,n.DQ="line",n.append(m.o.icon),o=m.FN.iX+m.FN.I-10,a=m.FN.iY+m.FN.F/2,n.D=[[o-7,a],[o+7,a],null,[o,a-7],[o,a+7],null,[o-6,a-1],[o-6,a+1],null,[o-5,a-2],[o-5,a+2],null,[o+6,a-1],[o+6,a+1],null,[o+5,a-2],[o+5,a+2],null,[o-1,a-6],[o+1,a-6],null,[o-2,a-5],[o+2,a-5],null,[o-1,a+6],[o+1,a+6],null,[o-2,a+5],[o+2,a+5]],n.parse(),n.paint()),m.UK&&((l=new ZC.DW(m)).Z=m.Z,l.B9=ZC.AP.AA3(m.A0,"#fff","#000"),l.B0=1,l.append(m.o.icon),l.DQ="line",o=m.FN.iX+m.FN.I-10-(m.V0&&"icon"===m.U5?20:0),a=m.FN.iY+m.FN.F/2,l.D=[[o-7,a-2],[o+2,a-2],[o+2,a+7],[o-7,a+7],[o-7,a-2],[o+2,a-2],null,[o-4,a-5],[o+5,a-5],[o+5,a+4],[o-4,a+4],[o-4,a-5],[o+5,a-5]],l.parse(),l.paint())),m.KI&&(m.KI.iX=m.iX,m.KI.iY=m.iY+m.F-m.KI.F,m.KI.I=m.I,m.KI.Z=m.KI.C6=m.Z,m.KI.paint(),ZC.move||"canvas"!==m.A.A.AC&&m.KI.EL());var _=ZC.AO.A20(m.NB,f),X=_[0],B=_[1],E=m.I/B,v=m.GL/X,K=0,D=0;m.PY=[];var I,b=0,Y=-ZC.MAX,N=m.A2.E["show-line"]?3:2,y=null,x=0;for(m.XN=!1,A=0,r=m.B6.length;A<r;A++)if(!(A-x<m.D2.min||A-x>=m.D2.max||m.N7)){var Q=new ZC.DS(m);Q.copy(m.B6[A]),m.E["highlight-legend"]===A&&(Q.append({bold:!0}),null!==ZC._n_(m.o.item)&&Q.append(m.o.item["highlight-state"])),I=Q.E.index;var w=new ZC.DS(m);w.O8="legenditem",w.K=m.K+"-item_"+I,w.GJ="zc-legend-item "+m.K+"-item",w.copy(Q),m.A.E["plot"+I+".visible"]&&"off"!==h[I].o["legend-status"]||w.append(m.ZA.o),w.append(h[I].o["legend-item"]),w.KE=function(i){var l=i;if(null===ZC._n_(e)&&(e=0),h[I]&&h[I].R[e]){var n=ZC.AP.OQ(m.BR.o,h[I].o);i=h[I].FP(e).KE(i,n)}return m.XN=m.XN||i!==l,i},w.parse(),w.AM?("float"===m.NB?(Y=ZC.BQ(Y,Q.F),null===ZC._n_(y)?(Q.iX=m.iX+m.EP+Q.DV+N*Q.DK,Q.iY=m.EJ+m.FJ+Q.E5,b=m.EJ):(Q.iX=y.iX+y.I+y.E6+Q.DV+N*Q.DK,ZC._i_(Q.iX+Q.I+Q.E6)>ZC._i_(m.iX+m.I)&&(Q.iX=m.iX+m.EP+Q.DV+N*Q.DK,b+=Y+Q.E5+Q.DP,Y=-ZC.MAX),Q.iY=b+m.FJ+Q.E5)):(Q.iX=m.iX+(0===D?m.EP:0)+D*E+Q.DV+N*Q.DK,Q.iY=m.EJ+m.FJ+K*v+Q.E5,++D===B&&(D=0,K++)),y=Q,w.iX=Q.iX=ZC._i_(Q.iX),w.iY=Q.iY=ZC._i_(Q.iY),w.Z=w.C6=m.Z,w.iX+=m.BJ,w.iY+=m.BH,I===m.N4&&(m.E["calculate-y"]&&(m.E["calculate-y"]=!1,m.E["dragged-offset-y"]=m.E["dragged-y"]-w.iY),w.iY=m.E["dragged-y"]-m.E["dragged-offset-y"]-w.DK/4),w.paint(),"undefined"!=typeof m.E.showhide&&null!==ZC._n_(m.E.showhide)||ZC.move||("canvas"!==m.A.A.AC?w.EL():m.XC.push(w))):x++;var M=m.A2.E.type;null!==ZC._n_(i=h[I].o["legend-marker"])&&null!==ZC._n_(i.type)&&(M=i.type);var H=!1;"match"!==M&&"inherit"!==M||(H=!0,M=null!==ZC._n_(i=h[I].A2.o.type)?i:"default");var J;switch(-1!==ZC.AV(["default","square"],M)?J=new ZC.HS(m):(J=new ZC.DW(m)).DQ=M,J.O8="legendmarker",J.append(m.A2.o),m.A.E["plot"+I+".visible"]&&"off"!==h[I].o["legend-status"]||J.append(m.NJ.o),J.N8=h[I].N8,h[I].AF){case"pie":case"pie3d":case"nestedpie":case"vbar":case"vbar3d":case"hbar":case"hbar3d":case"vbullet":case"hbullet":case"area":case"area3d":case"gauge":case"vfunnel":case"hfunnel":case"venn":J.A0=h[I].A0,J.AE=h[I].AE,J.GQ=h[I].GQ,J.HJ=h[I].HJ;break;case"scatter":case"hscatter":case"bubble":case"hbubble":J.A0="-1"!==h[I].A2.A0?h[I].A2.A0:h[I].A0,J.AE="-1"!==h[I].A2.AE?h[I].A2.AE:h[I].AE,J.GQ=""!==h[I].A2.GQ?h[I].A2.GQ:h[I].GQ,J.HJ=""!==h[I].A2.HJ?h[I].A2.HJ:h[I].HJ;break;default:J.A0=h[I].B9,J.AE=h[I].B9}"line"!==J.DQ&&"area"!==J.DQ||(J.B9=J.A0,J.B0=2),H&&J.append(h[I].A2.o),J.o["line-style"]="solid",J.o.type=J.DQ,J.append(h[I].o["legend-marker"]),H&&(J.o.type=J.DQ),J.E["show-marker"]=!0,J.E["show-line"]=!1,null!==ZC._n_(i=J.o["show-line"])&&(J.E["show-line"]=ZC._b_(i)),null!==ZC._n_(i=w.o["show-line"])&&(J.E["show-line"]=ZC._b_(i)),null!==ZC._n_(i=w.o["show-marker"])&&(J.o.visible=ZC._b_(i)),-1!==ZC.AV(["default","square"],M)&&null!==ZC._n_(i=J.o.size)&&(null===ZC._n_(J.o.width)&&(J.o.width=2*ZC._i_(i)),null===ZC._n_(J.o.height)&&(J.o.height=2*ZC._i_(i))),J.K=m.K+"-marker_"+I,J.Z=J.C6=m.Z,J.iX=w.iX-N*w.DK+(N-1)*w.DK/2+w.DK/2,J.iY=w.iY+(w.F-w.DK)/2+w.DK/2,J.parse(),m.E["highlight-legend"]===A&&(J.append({size:J.AI+1,width:J.I+2,height:J.F+2}),h[I]&&h[I].R[e]&&h[I].R[e].GG&&J.append({A0:h[I].R[e].GG.A0,AE:h[I].R[e].GG.AE}),null!==ZC._n_(m.o.marker)&&J.append(m.o.marker["highlight-state"]),J.parse()),"line"===J.DQ?(J.o.points=[[J.iX-1.75*J.AI,J.iY],[J.iX+1.75*J.AI,J.iY]],J.parse()):"area"===J.DQ&&(J.o.points=[[J.iX-1.75*J.AI,J.iY+J.AI],[J.iX+1.75*J.AI,J.iY+J.AI],[J.iX+1*J.AI,J.iY-J.AI/2],[J.iX,J.iY],[J.iX-1.25*J.AI,J.iY-J.AI],[J.iX-1.75*J.AI,J.iY+J.AI]],J.parse());var z=J.iX+J.BJ,P=J.iY+J.BH;if(-1!==ZC.AV(["default","square"],M)&&(J.iX-=J.I/2,J.iY-=J.F/2),m.A.E["plot"+I+".visible"]&&"off"!==h[I].o["legend-status"]||(J.C5/=4),w.AM&&J.E["show-line"]){var k=ZC.Q.E9(m.Z,m.A.H.AC),R=new ZC.D0(m);R.Z=m.Z,R.copy(h[I]),R.o["line-style"]=m.A2.G9,R.append(h[I].o),R.append(m.A2.o),R.append(h[I].o["legend-item"]),R.append(h[I].o["legend-marker"]),R.parse(),m.A.E["plot"+I+".visible"]||(R.C5=.25);var S=[],T=J.AM?2:1;t="box"===J.DQ?J.I/2:J.AI,S.push([z-T*t-(R.B0>1?1:0),P-(R.B0>1?.5:0)]),S.push([z+T*t,P-(R.B0>1?.5:0)]),R.CZ=!0,ZC.CS.paint(k,R,S)}I===m.N4&&(J.iY=m.E["dragged-y"]-m.E["dragged-offset-y"]/2),J.AM&&w.AM&&J.paint(),m.PY.push(J);var L=!0;if(null!==ZC._n_(i=m.BR.o.toggle)&&(L=ZC._b_(i)),m.E["item.toggle"]=L,(w.AM||J.AM)&&-1===ZC.AV(m.A.H.KM,"skip_interactivity")){var G=J.BJ+("box"===J.DQ?J.iX+J.I/2:J.iX),V=J.BH+("box"===J.DQ?J.iY+J.F/2:J.iY);t="box"===J.DQ?J.I/2:J.AI,d="box"===J.DQ?J.F/2:J.AI;var O=(J.E["show-line"]?2:1)*t;ZC.AK(w.K+"-area")||(J.AM&&"disabled"!==m.PL&&"disabled"!==J.o["toggle-action"]&&(ZC.AK(J.K+"-area")||ZC.Q.HX({cls:m.K+"-marker-area zc-legend-marker-area zc-abs",id:J.K+"-area",wh:2*O+"/"+2*d,tl:V-d+"/"+(G-O),opacity:0,background:"#fff",cursor:J.IR,p:F,zidx:1})),w.AM&&"disabled"!==m.QX&&"disabled"!==w.o["toggle-action"]&&(ZC.AK(w.K+"-area")||ZC.Q.HX({cls:m.K+"-item-area zc-legend-item-area zc-abs",id:w.K+"-area",wh:w.I+"/"+w.F,tl:w.iY+w.BH+"/"+(w.iX+w.BJ),opacity:0,background:"#fff",cursor:w.IR,p:F,zidx:1})))}}if(m.DC&&!m.N7&&(m.DC.paint(),ZC.AK(m.K+"-scroll-c").style.display="block"),m.DC&&m.N7&&(ZC.AK(m.K+"-scroll-c").style.display="none"),m.D2.enabled&&!m.N7){var U=new ZC.DS(m);U.Z=U.C6=m.Z,U.K=m.K+"-page-status",U.AR=ZC.HI["legend-pagination"].replace("%page%",m.D2.page).replace("%pages%",m.D2.pages),U.append(m.o["page-status"]),U.parse(),m.I<U.I+48&&(U.AR=m.D2.page+"/"+m.D2.pages,U.parse()),U.iX=m.iX+m.I/2-U.I/2,U.iY=m.iY+m.F-(m.KI?m.KI.F:0)-U.F-4,U.AM&&U.paint();var W=m.A.H.B7,q="("+m.A.AF+")",$={"background-color":"#999"},j={"background-color":"#f90"};W.load($,q+".legend.page-off"),W.load(j,q+".legend.page-on"),(s=new ZC.DW(m)).Z=s.C6=m.Z,s.K=m.K+"-page-prev",s.A0=s.AE=m.D2.page>1?j["background-color"]:$["background-color"],s.append(m.D2.page>1?m.o["page-on"]:m.o["page-off"]),Z=m.iX+m.I/2-U.I/2-6,C=U.iY+U.F/2,s.parse(),s.AI=ZC.BQ(s.AI,8),u=ZC._i_(.75*s.AI),s.D=[[Z,C-u],[Z,C+u],[Z-s.AI,C],[Z,C-u]],s.parse(),s.AM&&s.paint(),(c=new ZC.DW(m)).Z=c.C6=m.Z,c.K=m.K+"-page-next",c.A0=c.AE=m.D2.page<m.D2.pages?j["background-color"]:$["background-color"],c.append(m.D2.page<m.D2.pages?m.o["page-on"]:m.o["page-off"]),g=m.iX+m.I/2+U.I/2+6,p=U.iY+U.F/2,c.parse(),c.AI=ZC.BQ(c.AI,8),u=ZC._i_(.75*c.AI),c.D=[[g,p-u],[g,p+u],[g+c.AI,p],[g,p-u]],c.parse(),c.AM&&c.paint()}if(!ZC.move){var ee=m.F,ie=m.iY;m.FN&&(ee-=m.FN.F,ie+=m.FN.F),ZC.AK(m.K+"-frame")?ZC.A4("#"+m.K+"-frame").css("top",ie+"px").css("left",m.iX+"px").css("width",m.I+"px").css("height",ee+"px"):ZC.Q.HX({cls:"zc-abs zc-legend-frame "+m.K+"-frame",id:m.K+"-frame",wh:m.I+"/"+ee,tl:ie+"/"+m.iX,opacity:0,background:"#fff",p:F,zidx:0}),m.D2.enabled&&!m.N7&&(m.D2.page>1&&ZC.Q.HX({cls:m.K+"-page-area zc-legend-page-area zc-abs",id:m.K+"-page-prev-area",wh:s.AI+"/"+2*s.AI,tl:ZC._i_(C+s.BH-s.AI)+"/"+ZC._i_(Z+s.BJ-s.AI),opacity:0,p:F,zidx:1}),m.D2.page<m.D2.pages&&ZC.Q.HX({cls:m.K+"-page-area zc-legend-page-area zc-abs",id:m.K+"-page-next-area",wh:c.AI+"/"+2*c.AI,tl:ZC._i_(p+s.BH-c.AI)+"/"+ZC._i_(g+c.BJ),opacity:0,p:F,zidx:1}));var le,ne;m.FN&&m.V0&&("icon"===m.U5?(ne=ZC._i_(m.FN.iY+ZC.MAPTX+n.BH)+"/"+ZC._i_(m.FN.iX+m.FN.I-20+ZC.MAPTX+n.BJ),le="20/"+m.FN.F):(ne=ZC._i_(m.FN.iY+ZC.MAPTX)+"/"+ZC._i_(m.FN.iX+ZC.MAPTX),le=m.FN.I-(m.UK?23:0)+"/"+m.FN.F),ZC.Q.HX({cls:m.K+"-header-area zc-legend-header-area zc-abs",id:m.K+"-move-area",wh:le,tl:ne,opacity:0,p:F,zidx:1})),m.UK&&(m.V0&&"icon"===m.U5?(ne=ZC._i_(m.FN.iY+ZC.MAPTX+l.BH)+"/"+ZC._i_(m.FN.iX+m.FN.I-41+ZC.MAPTX+l.BJ),le="20/"+m.FN.F):(ne=ZC._i_(m.FN.iY+ZC.MAPTX+l.BH)+"/"+ZC._i_(m.FN.iX+m.FN.I-22+ZC.MAPTX+l.BJ),le="20/"+m.FN.F),ZC.Q.HX({cls:m.K+"-header-area zc-legend-header-area zc-abs",id:m.K+"-minimize-area",wh:le,tl:ne,opacity:0,p:F,zidx:1})),m.ON=0,m.ZW=0,m.zc_legend_mouseover=function(){m.YA=!0},m.zc_legend_mouseout=function(){m.YA=!1},m.YX=function(e){if(e.preventDefault(),m.H.hideCM(),ZC.move=!0,ZC.mobile||!(e.which>1)){m.A.A.E["graph-"+m.A.K+"-legend-info"]=null;var i=ZC.Q.M7(e),l=ZC.A4("#"+m.A.A.K+"-top").offset();m.ON=i[0]-l.left-m.FN.iX,m.ZW=i[1]-l.top-m.FN.iY,m.oldcursor=document.body.style.cursor,document.body.style.cursor="move",ZC.A4(document.body).bind(ZC.Q.C0("mousemove"),m.YZ),ZC.A4(document.body).bind(ZC.Q.C0("mouseup"),m.A0K)}},m.YZ=function(e){var i=ZC.Q.M7(e),l=ZC.A4("#"+m.A.A.K+"-top").offset(),n=i[0]-l.left-m.ON,o=i[1]-l.top-m.ZW;if(m.S3?(n=ZC.BQ(n,m.H.iX+2),n=ZC.CY(n,m.H.iX+m.H.I-m.I-2),o=ZC.BQ(o,m.H.iY+2),o=ZC.CY(o,m.H.iY+m.H.F-m.F-4)):(n=ZC.BQ(n,m.A.iX+2),n=ZC.CY(n,m.A.iX+m.A.I-m.I-2),o=ZC.BQ(o,m.A.iY+2),o=ZC.CY(o,m.A.iY+m.A.F-m.F-4)),m.S3||(n-=m.A.iX,o-=m.A.iY),m.o.x=n,m.o.y=o,m.o.position=null,m.clear(!0),m.parse(),m.paint(),m.FN){var a=m.S3?m.A.A:m.A;m.A.A.E["legend"+m.A.L+"-xy-ratio"]=[n/a.I,o/(a.F-m.FN.F)]}},m.A0K=function(){ZC.move=!1,document.body.style.cursor=m.oldcursor,delete m.oldcursor,ZC.A4(document.body).unbind(ZC.Q.C0("mousemove"),m.YZ),ZC.A4(document.body).unbind(ZC.Q.C0("mouseup"),m.A0K),m.XC=[],m.clear(!1),m.parse(),m.paint(),m.VW()},m.YC=function(e){m.E["default-width"]=null,-1!==(e.targetid||e.target.id).indexOf("-page-next-area")?(m.D2.min+=m.EE,m.D2.max+=m.EE,m.D2.page+=1):(m.D2.min-=m.EE,m.D2.max-=m.EE,m.D2.page-=1),(!(i=m.A.A.E["graph-"+m.A.K+"-legend-info"])||null===ZC._n_(i.x)&&null===ZC._n_(i.y))&&(m.iX=null,m.iY=null),m.VW(),m.A.K3()},m.XT=function(e){var i=m.N7?"legendmaximize":"legendminimize";e&&(m.A.A.E["legend-toggling"]=1),zingchart.exec(m.A.H.K,i,{graphid:m.A.L}),e&&(m.A.A.E["legend-toggling"]=0),e&&(m.A.A.E["g"+m.A.L+"-legend-collapsed"]="legendminimize"===i)},m.MH=function(e){ZC.move=!0;var i=ZC.Q.M7(e),l=ZC.A4("#"+m.A.A.K+"-top").offset(),n=i[0]-l.left,o=i[1]-l.top;m.E["dragged-x"]=n,m.E["dragged-y"]=o,m.VW(),m.clear(!1),m.parse(),m.paint()},m.VH=function(e){if(e.preventDefault(),m.H.hideCM(),m.IR=document.body.style.cursor,document.body.style.cursor="move",ZC.mobile||!(e.which>1)){var i=new RegExp("-legend-item_([0-9]+)-area","g").exec(e.target.id);i&&(m.E["dragged-offset-y"]=0,m.E["calculate-y"]=!0,m.E["dragged-x"]=0,m.E["dragged-y"]=0,m.N4=ZC._i_(i[1]),m.iDragPos=ZC.AV(m.A.AY.M0,m.N4),ZC.A4(document.body).bind(ZC.Q.C0("mousemove"),m.MH),ZC.A4(document.body).bind(ZC.Q.C0("mouseup"),m.X4))}},m.X4=function(){var e=m.N4,i=m.iDragPos;if(m.N4=-1,m.iDragPos=-1,m.E["calculate-y"]=!1,document.body.style.cursor=m.IR,ZC.move||(e=-1,i=-1),ZC.A4(document.body).unbind(ZC.Q.C0("mousemove"),m.MH),ZC.A4(document.body).unbind(ZC.Q.C0("mouseup"),m.X4),ZC.move&&-1!==e){for(var l=m.A.AY.A6,n=m.A.AY.M0,o=0,a=l.length;o<a;o++)l[o].o["legend-item"]=l[o].o["legend-item"]||{},null===ZC._n_(l[o].o["legend-item"].order)&&(l[o].o["legend-item"].order=ZC._i_(l[o].o["z-index"]||o+1));for(var A=l[e].o["legend-item"].order,r=-1,t=0,d=m.PY.length;t<d;t++)m.E["dragged-y"]-m.E["dragged-offset-y"]/2>m.PY[t].iY&&(r=t);for(l[e].o["legend-item"].order=-1===r?.5:l[n[r]].o["legend-item"].order+.5,t=0,d=m.PY.length;t<d;t++)r>i?l[t].o["legend-item"].order<l[e].o["legend-item"].order&&l[t].o["legend-item"].order>A&&l[t].o["legend-item"].order--:l[t].o["legend-item"].order>l[e].o["legend-item"].order&&l[t].o["legend-item"].order<A&&l[t].o["legend-item"].order++;for(l[e].o["legend-item"].order=r>i?Math.floor(l[e].o["legend-item"].order):Math.ceil(l[e].o["legend-item"].order),t=0,d=m.PY.length;t<d;t++)m.A.o.series[t]["z-index"]=l[t].o["legend-item"].order}m.A.AY.E["plot-sort"]=!0,ZC.move=!1,m.clear(!1),m.A.K3()},ZC.A4("#"+m.K+"-frame").live(ZC.Q.C0("mouseover"),m.zc_legend_mouseover).live(ZC.Q.C0("mouseout"),m.zc_legend_mouseout),ZC.A4("#"+m.K+"-move-area").live(ZC.Q.C0("mousedown"),m.YX),ZC.A4("#"+m.K+"-minimize-area").live(ZC.Q.C0("click"),m.XT),ZC.A4("."+m.K+"-page-area").live(ZC.Q.C0("click"),m.YC),m.BR.o.reorder&&ZC.A4("."+m.A.K+"-legend-item-area").live("mousedown",m.VH)}m.E.showhide=null,1===m.A.A.E["legend-toggling"]||ZC.move||(m.LX&&null===ZC._n_(m.A.A.E["g"+m.A.L+"-legend-collapsed"])||m.A.A.E["g"+m.A.L+"-legend-collapsed"]&&!m.N7)&&(window.setTimeout(function(){m.XT(!0)},0),m.A.A.E["g"+m.A.L+"-legend-collapsed"]=!0)}},gc:function(){ZC.AP.gc(this,["B6","D","PY","Z","C6","o","J5","I0","KI","FN","BR","ZA","H","A","A2","NJ","D2"])}}),ZC.WA.push("legend"),ZC.JS.prototype.U3=function(){if(!zingchart.SKIP.LEGEND){var e,i=this;if(i.BF){if(i.BF.S3&&i.L!==i.A.AH.length-1&&!i.BF.o.force)return;i.BF.Z=i.BF.C6=i.H.usc()?i.H.mc("top"):ZC.AK(i.K+"-legend-c"),i.BF.paint(),-1===ZC.AV(i.H.KM,"skip_interactivity")&&(i.QR=function(e){var l,n;if(!ZC.move){i.A8&&i.A.A8&&i.A8.AM&&i.A.A8.onmouseover(e);var o=e.targetid||e.target.id,a=ZC._i_(o.replace(i.K,"").replace("-legend-item_","").replace("-legend-marker_","").replace("-area","").replace("-marker","")),A=i.AY.A6[a];if(A.FW&&(i.BF.WD||A.I5)&&A.R.length)for(l=0,n=A.R.length;l<n;l++)null!==A.R[l]&&A.R[l].JB&&A.FP(l).A3H("highlight");ZC.move=!0;var r=A.L;A.o["legend-item"]&&null!==ZC._n_(A.o["legend-item"].order)&&(r=ZC._i_(A.o["legend-item"].order)),i.BF.highlightItem(r),ZC.move=!1;var t=i.AY.A6[a].UZ(e);i.E["legend-action-index"]=a,ZC.AP.BZ("legend_mouseover",i.A,t)}},i.PI=function(e){ZC.move||i.A8&&i.A.A8&&i.A8.AM&&i.A.A8.onmousemove(e)},i.R4=function(e){if(!ZC.move){i.A8&&i.A.A8&&i.A8.AM&&i.A.A8.onmouseout(e),i.LN(),ZC.move=!0,i.BF.highlightItem(-1),ZC.move=!1;var l=ZC._c_(i.E["legend-action-index"],0),n=i.AY.A6[l].UZ(e);ZC.AP.BZ("legend_mouseout",i.A,n)}},i.zc_legend_mousescroll=function(e){i.BF.DC&&"scroll-y"===i.BF.DC.AF&&(e.preventDefault(),i.BF.DC.A33(e))},i.SG=function(l){if(i.E.legend_toggle_action=!0,!(ZC.move||(zingchart.SA(l),l.which>1))){var n,o,a,A=l.targetid||l.target.id,r=ZC._b_(i.BF.BR.o.reorder);ZC.mobile&&i.H.A8&&i.H.A8.hide();var t="item";-1!==A.indexOf("-legend-marker_")&&(t="marker"),i.LN(),l.preventDefault();var d=i.BF.IH;"item"===t?d=i.BF.QX:"marker"===t&&(d=i.BF.PL),i.A.K5&&(d="remove"),i.E["legend-last-trigger"]=t;var Z=ZC._i_(A.replace(i.K+"-legend-item_","").replace(i.K+"-legend-marker_","").replace("-area",""));if(i.o.series&&i.o.series[Z]){if(null!==ZC._n_(e=i.o.series[Z]["legend-item"])){var s=e.url||"",C=e.target||"";""!==s&&i.UQ(l,s,C)}i.o.series[Z].visible=!0}var g=i.AY.A6[Z].UZ(l);g.visible=ZC._b_(i.E["plot"+Z+".visible"]),ZC.AP.BZ("legend_"+t+"_click",i.A,g);var c,p,u;switch(d){default:break;case"hide":case"remove":if(l.shiftKey){var m=0;for(n=0,o=i.AY.A6.length;n<o;n++)if(n!==Z&&(m++,a=m===o-1,i.Q4({"ignore-legend":r,K3:a,plotindex:n,"toggle-action":d}),i.BF.S3))for(c=0,p=i.H.AH.length;c<p;c++)(u=i.H.AH[c]).BF&&u.BF.S3&&u.BF.A4T===i.BF.A4T&&u.K!==i.K&&u.Q4({"ignore-legend":!0,K3:a,plotindex:n,"toggle-action":d})}else if(i.Q4({"ignore-legend":r,K3:1,plotindex:Z,"toggle-action":d}),i.BF.S3)for(c=0,p=i.H.AH.length;c<p;c++)(u=i.H.AH[c]).BF&&u.BF.S3&&u.BF.A4T===i.BF.A4T&&u.K!==i.K&&u.Q4({"ignore-legend":!0,K3:1,plotindex:Z,"toggle-action":d})}"hide"===d&&i.E.hooks&&(i.OU(),i.QK())}},ZC.A4("."+i.K+"-legend-item-area").live("mouseup touchstart",i.SG).live("DOMMouseScroll",i.zc_legend_mousescroll).live("mousewheel",i.zc_legend_mousescroll),ZC.A4("."+i.K+"-legend-marker-area").live("mouseup touchstart",i.SG).live("DOMMouseScroll",i.zc_legend_mousescroll).live("mousewheel",i.zc_legend_mousescroll),ZC.A4("#"+i.K+"-legend-frame").live("DOMMouseScroll",i.zc_legend_mousescroll).live("mousewheel",i.zc_legend_mousescroll),ZC.mobile||(ZC.A4("."+i.K+"-legend-item-area").live(ZC.Q.C0("mouseover"),i.QR).live(ZC.Q.C0("mouseout"),i.R4).live(ZC.Q.C0("mousemove"),i.PI),ZC.A4("."+i.K+"-legend-marker-area").live(ZC.Q.C0("mouseover"),i.QR).live(ZC.Q.C0("mouseout"),i.R4).live(ZC.Q.C0("mousemove"),i.PI)))}}};
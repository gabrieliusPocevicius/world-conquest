/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.1
*/
ZC.WA.push("pie3d"),ZC.A57=ZC.A38.C7({$i:function(C){this.b(C);var n=this;n.AF="pie3d",n.AY=new ZC.A7T(n),n.CK=new ZC.US,n.AJ["3d"]=!0,n.AJ["enable-animation"]=!1,n.AJ["x-angle-min"]=15,n.AJ["x-angle-max"]=75,n.AJ["y-angle-min"]=0,n.AJ["y-angle-max"]=0,n.AJ["z-angle-min"]=0,n.AJ["z-angle-max"]=0},clear:function(){var C=this;C.b(),C.CK.clear()},paint:function(){var C=this;C.b(),C.S5(),C.flatten(),C.PS(),C.FL.length&&(C.CK.clear(),C.KF(),C.S5()),C.U3(),-1===ZC.AV(C.H.KM,"skip_interactivity")&&C.RP()}}),ZC.A7T=ZC.A48.C7({ACQ:function(){return new ZC.X6(this)}}),ZC.X6=ZC.VY.C7({$i:function(C){this.b(C);var n=this;n.AF="pie3d",n.NF=-1},parse:function(){var C=this;C.b(),C.assign_a([["thickness","NF","ia"]])},TH:function(){return new ZC.A6V(this)}}),ZC.A6V=ZC.M5.C7({U:null,$i:function(C){this.b(C),this.U=null},parse:function(){this.b()},AAO:function(){this.b();var C=this,n=C.C.E;n.update.npv=n.update["node-percent-value"]=C.KE("%npv")},KE:function(C,n,A,e){var i=this,t=i.A.ML();ZC._cp_(n,t),-1===C.indexOf("%npv")&&-1===C.indexOf("%node-percent-value")||null!==ZC._n_(t.decimals)&&-1!==t.decimals||(t.decimals=1);var a=0,Z="0";if(i.A.A.KH[i.L]>0&&(Z=""+(a=100*i.AD/i.A.A.KH[i.L])),i.A.A.A6.length>1&&i.A.L===i.A.A.A6.length-1){var r=0;if(null===ZC._n_(i.A.o.totals)){for(var o=0;o<i.A.A.A6.length-1;o++)if(i.A.A.A6[o].AM){var s=0,l="0";i.A.A.KH[i.L]>0&&(l=""+(s=100*i.A.A.A6[o].R[i.L].AD/i.A.A.KH[i.L])),null!==ZC._n_(t.decimals)&&(l=s.toFixed(ZC.BQ(0,ZC._i_(t.decimals)))),r+=ZC._f_(l)}Z=""+(a=Math.max(0,100-r))}}null!==ZC._n_(t.decimals)&&(Z=a.toFixed(ZC.BQ(0,ZC._i_(t.decimals))));var u=ZC._f_(i.A.A.KH[i.L]||"0"),E=""+u;return E=ZC.AP.GF(u,t,i.A),i.CV=[["%node-percent-value",Z],["%npv",Z],["%pie-total-value",E]],C=i.b(C,n,A,e)},UV:function(C){var n,A=this,e=(A.B3+A.BI)/2%360,i=0;null!==ZC._n_(n=C["offset-r"])&&(i=ZC._f_(ZC._p_(n))),i<1&&(i*=A.AI);var t=new ZC.CF(A.C,(A.CN+.5*(A.AI-A.CN)+A.DR+i)*ZC.EF(e),(A.CN+.5*(A.AI-A.CN)+A.DR+i)*ZC.EO(e),0).EB;return[t[0],t[1],{reference:A,center:!0}]},setup:function(){var C=this,n=C.C.BN(C.A.BT("k")[0]),A=C.L%n.GX,e=Math.floor(C.L/n.GX);C.iX=n.iX+A*n.GH+n.GH/2+n.BJ,C.iY=n.iY+e*n.G8+n.G8/2+n.BH,C.HY||(C.copy(C.A),C.E7=C.A.E7,C.DE()&&C.parse(),C.HY=!0)},ABC:function(C){var n={},A="out";return null!==ZC._n_(C.o.placement)&&(A=C.o.placement),n.color="out"===A?this.A0:this.C1,n},ACC:function(C){var n,A=this,e="out";null!==ZC._n_(n=C.o.placement)&&(e=n);var i,t,a,Z,r,o=C.I,s=C.F,l=(A.B3+A.BI)/2%360,u=l;if("out"===e){l=u=A.A.A.Y4["n"+A.L][A.A.L];var E=function(n,e){e<0&&(e=360+e),e%=360;var i=ZC.AO.BK(A.iX,A.iY,n+A.DR+C.DR+20,e),t=A.C.F0["x-angle"];t>45&&A.A.A.A6.length>10&&(A.C.F0["x-angle"]=45+(t-45)/3),r=new ZC.CF(A.C,i[0]-ZC.AN.E3,i[1]-ZC.AN.E2,0),A.C.F0["x-angle"]=t,i[0]=r.EB[0],i[1]=r.EB[1];var a=i[0]+C.BJ-o/2,Z=i[1]+C.BH-s/2;return e>=0&&e<=90||e>=270&&e<=360?a+=o/2+10:a-=o/2+10,[a,Z]},B=E(A.AI,u);i=B[0],t=B[1],A.U=C;var c={x:i,y:t,width:o,height:s},p=zingchart.DEV.SPREADTYPE;Z=!0;for(var h=0,f=0,d=-1,_=0,I=0;Z&&I<1024;){Z=!1;for(var v=0,N=A.A.A.TQ.length;v<N;v++)a=A.A.A.TQ[v],(ZC.AO.XI(c,a,A.A.A.A6.length>10?-8:-2)||c.x+C.I>A.C.P.iX+A.C.P.I||c.x<A.C.P.iX||c.y+C.F>A.C.P.iY+A.C.P.F||c.y<A.C.P.iY)&&(Z=!0,0===p?(h+=.4,d*=-1):1===p&&(f+=1),B=E(A.AI+f,u+h*d),c.x=B[0],c.y=B[1],I++,++_>100&&(_=0,0===p?(h=0,f+=4):1===p&&(f=0,h+=1,d*=-1)))}i=c.x,t=c.y,l=u+h,a={text:A.A.AR,x:c.x,y:c.y,width:o,height:s,plotindex:A.A.L,nodeindex:A.L},A.A.A.TQ.push(a)}else if("in"===e){var F=A.CN<30?.65:.5,D=ZC.AO.BK(A.iX,A.iY,A.CN+F*(A.AI-A.CN)+A.DR+C.DR,l);r=new ZC.CF(A.C,D[0]-ZC.AN.E3,D[1]-ZC.AN.E2,0),D[0]=r.EB[0],D[1]=r.EB[1],i=D[0]+C.BJ-o/2,t=D[1]+C.BH-s/2}else"center"===e&&(i=(r=new ZC.CF(A.C,A.iX-ZC.AN.E3,A.iY-ZC.AN.E2,0)).EB[0]+C.BJ-o/2,t=r.EB[1]+C.BH-s/2);return Z&&(i=-9999,t=-9999,C.AM=!1),null!==ZC._n_(C.o.x)&&(i=C.iX),null!==ZC._n_(C.o.y)&&(t=C.iY),i>=-2&&(i=ZC._a_(i)),t>=-2&&(t=ZC._a_(t)),[ZC._i_(i),ZC._i_(t),l]},GU:function(C,n){var A,e=this,i=e.b(C,n);if(C)return i;if(e.AM&&i.AM&&null!==ZC._n_(i.AR)&&""!==i.AR){var t="out";if(null!==ZC._n_(i.o.placement)&&(t=i.o.placement),"out"===t){var a=!0;if(null!==ZC._n_(A=i.o.connected)&&(a=ZC._b_(A)),a){var Z=new ZC.DW(e.A);Z.Z=Z.C6=e.A.CO("bl",0),Z.append(e.A.C2.o),Z.B9=e.A0,Z.DQ="line",Z.D=[];var r=i.E.positioninfo,o=(e.B3+e.BI)/2%360,s=0;o>=0&&o<=180&&(s=e.E.thickness/2);var l=ZC.AO.BK(e.iX,e.iY,e.AI+e.DR+i.DR,o);(l=new ZC.CF(e.C,l[0]-ZC.AN.E3,l[1]-ZC.AN.E2,s).EB)[0]+=e.BJ,l[1]+=e.BH,Z.D.push(l);var u=ZC.AO.BK(e.iX,e.iY,e.AI+e.DR+i.DR+20,o);(u=new ZC.CF(e.C,u[0]-ZC.AN.E3,u[1]-ZC.AN.E2,s).EB)[0]+=e.BJ,u[1]+=e.BH,i.iX>=e.iX?Z.D.push([u[0],u[1],r[0],r[1]+i.F/2]):Z.D.push([u[0],u[1],r[0]+i.I+2,r[1]+i.F/2]),Z.parse(),Z.JE=function(C){return e.JE(C)},Z.DE()&&Z.parse(),Z.AM&&Z.paint()}}}},paint:function(){var C,n,A,e,i,t,a,Z,r,o=this,s=o.C.CK,l=o.C.BN(o.A.BT("k")[0]),u=o.C.F0["x-angle"],E=o.C.F0["y-angle"];o.setup();var B="pie-sel-"+o.A.L+"-"+o.L;if(o.o.detached&&"undefined"==typeof o.C.E[B]&&(o.C.E[B]=!0),!(o.AD<0)){var c=ZC.BQ(.7,ZC.EF(u));o.AI=ZC.CY(l.G8/c,l.GH)/2,null!==ZC._n_(o.A.o.size)?o.AI=o.A.AI:o.AI=l.JM*o.AI,o.CN<1&&(o.CN*=o.AI),o.CN=Math.max(0,o.CN),o.o.slice=o.CN,o.DR<1&&(o.DR*=o.AI),o.o["offset-r"]=o.DR;var p=o.A.NF;-1===p&&(p=o.AI/5),o.E.thickness=p;var h=o.iX-ZC.AN.E3,f=o.iY-ZC.AN.E2;o.B3=ZC._i_(o.B3),o.BI=ZC._i_(o.BI);var d=(o.B3+o.BI)/2;o.C.E[B]&&(o.DR+=ZC._i_(.15*o.AI)),o.DR>0&&(h+=o.DR*ZC.EF(d),f+=o.DR*ZC.EO(d));var _=o.N=o.A.I8(o,o);_.DI=o.K+"-3dfacet";var I=new ZC.D0(o);if(I.copy(_),I.A0=ZC.AP.JH(ZC.AP.G5(I.A0)),I.AE=ZC.AP.JH(ZC.AP.G5(I.AE)),o.AD>=0||0===o.A.A.KH[o.L]){for(a=[],C=o.B3,a.push([h+o.CN*ZC.EF(C),f+o.CN*ZC.EO(C),0]),C=o.B3;C<=o.BI;C+=1)a.push([h+o.AI*ZC.EF(C),f+o.AI*ZC.EO(C),0]);for(C=o.BI,a.push([h+o.CN*ZC.EF(C),f+o.CN*ZC.EO(C),0]),C=o.BI;C>=o.B3;C-=1)a.push([h+o.CN*ZC.EF(C),f+o.CN*ZC.EO(C),0]);if(n=ZC.DH.D7(_,o.C,a),n.K=o.K+"-facet1",s.add(n),A=null,o.B3%360>=0+E&&o.B3%360<180+E||o.BI%360>0+E){Z=o.B3,r=o.BI;var v=function(C,n,e){var i,t=[];for(i=C,t.push([h+o.AI*ZC.EF(i),f+o.AI*ZC.EO(i),0]),i=C;i<=n;i+=1)t.push([h+o.AI*ZC.EF(i),f+o.AI*ZC.EO(i),0]);for(i=n,t.push([h+o.AI*ZC.EF(i),f+o.AI*ZC.EO(i),p]),i=n;i>=C;i-=1)t.push([h+o.AI*ZC.EF(i),f+o.AI*ZC.EO(i),p]);(A=ZC.DH.D7(I,o.C,t)).MB=[.01,1,1,1],A.K=o.K+"-facet2"+e,s.add(A)};Z<180&&r>360?(v(Z=Z<0?Z+360:Z,180,1),v(360,r,2)):(Z=ZC.BQ(Z,r>360?365:5),(r=ZC.CY(r,r>360?535:175))>Z&&v(Z,r,1))}if(t=null,o.CN>0+E&&o.BI>180+E){for(a=[],C=o.B3,Z=o.B3,o.B3<180+E&&o.BI>180+E&&(C=180+E,Z=180+E),a.push([h+o.CN*ZC.EF(C),f+o.CN*ZC.EO(C),0]),C=Z;C<=o.BI;C+=1)a.push([h+o.CN*ZC.EF(C),f+o.CN*ZC.EO(C),0]);for(C=o.BI,a.push([h+o.CN*ZC.EF(C),f+o.CN*ZC.EO(C),p]),C=o.BI;C>=Z;C-=1)a.push([h+o.CN*ZC.EF(C),f+o.CN*ZC.EO(C),p]);(t=ZC.DH.D7(I,o.C,a)).K=o.K+"-facet3",s.add(t)}var N=function(C,n,A){return[[h+C*ZC.EF(A),f+C*ZC.EO(A),0],[h+C*ZC.EF(A),f+C*ZC.EO(A),p],[h+n*ZC.EF(A),f+n*ZC.EO(A),p],[h+n*ZC.EF(A),f+n*ZC.EO(A),0]]};(e=ZC.DH.D7(I,o.C,{points:N(o.CN,o.AI,o.B3),mathpoints:N(o.CN+1,o.AI+1,o.B3-1)})).K=o.K+"-facet4",s.add(e),(i=ZC.DH.D7(I,o.C,{points:N(o.CN,o.AI,o.BI),mathpoints:N(o.CN+1,o.AI+1,o.BI+1)})).K=o.K+"-facet5",s.add(i);var F=o.C.K+"-node-area "+o.C.K+"-plotset-plot-"+o.A.L+"-node-area zc-node-area",D=ZC.Q.GC("poly",o.A.E8)+'class="'+F+'" id="'+o.K,K=o.A.A.HN;K.push(D+'--top" data-z-sort="1" coords="'+n.FB()+'" />'),A&&K.push(D+'--outer" data-z-sort="1" coords="'+A.FB()+'" />'),(o.CN>0||o.DR>0)&&(t&&K.push(D+'--inner" data-z-sort="2" coords="'+t.FB()+'" />'),K.push(D+'--start" data-z-sort="2" coords="'+e.FB()+'" />',D+'--end" data-z-sort="2" coords="'+i.FB()+'" />'))}o.A.U&&o.GU()}},WX:function(C,n){var A=this;if(A.b(C,n),"click"===n&&C.which<=1&&A.A.A7J){var e="pie-sel-"+A.A.L+"-"+A.L;A.C.E[e]="undefined"==typeof A.C.E[e]||!A.C.E[e],A.C.K3()}}});
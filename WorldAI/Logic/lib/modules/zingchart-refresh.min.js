/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.1
*/
ZC.WA.push("refresh"),ZC.JS.prototype.A2H=function(){var s,e,t=this,a=0;for(s=0,e=t.BM.length;s<e;s++)"k"===t.BM[s].AF&&t.o[t.BM[s].BC]&&t.o[t.BM[s].BC].values&&(a=ZC.BQ(a,t.o[t.BM[s].BC].values.length));for(s=0,e=t.AY.A6.length;s<e;s++)null!==ZC._n_(t.o.series[s])&&t.o.series[s].values&&(a=ZC.BQ(a,t.o.series[s].values.length));return a},ZC.JS.prototype.U0=function(){var s,e=this;if(e.HM)for(var t=e.A2H(),a=0,r=e.BM.length;a<r;a++)"k"===e.BM[a].AF&&(e.BM[a].CQ?(s=(e.BM[a].F-e.BM[a].A5-e.BM[a].BW)/ZC._i_(e.HM["max-ticks"]),e.BM[a].OH=ZC.BQ(0,e.BM[a].F-t*s)):(s=(e.BM[a].I-e.BM[a].A5-e.BM[a].BW)/ZC._i_(e.HM["max-ticks"]),e.BM[a].OH=ZC.BQ(0,e.BM[a].I-t*s)),ZC._b_(e.HM["adjust-scale"])&&(e.BM[a].OH=0),e.BM[a].A5=e.BM[a].A3X+e.BM[a].OH,e.A.E[e.BM[a].BC+"-feed-offset-start"]=e.BM[a].A5,e.BM[a].V=ZC.BQ(0,e.BM[a].A1-e.HM["max-ticks"]+1),e.BM[a].IW())},ZC.JS.prototype.ABV=function(){var s=this,G,MK,ws;if(s.E["from-api"]&&(window.clearTimeout(ZC.REFRESH_TICK[s.K]),delete s.E["from-api"]),s.HM){var OM=ZC._i_(s.HM.interval);if(OM=OM>=50?OM:1e3*OM,"full"===s.HM.type)"http"===s.HM.transport?ZC.REFRESH_TICK[s.K]=window.setTimeout(function(){s.A.MV(s),ZC.ZH(function(){s.A.load(s.K,s.A9Y)})},OM):"websockets"===s.HM.transport&&ZC.websockets&&(s.H.S6[s.K]?"pull"===s.HM.method&&(ZC.REFRESH_TICK[s.K]=window.setTimeout(function(){s.H.S6[s.K].send("zingchart.getdata")},OM)):(ws=new WebSocket(s.HM.url,"zingchart"),ws.onopen=function(){ws.send("zingchart."+s.HM.type),ws.send("zingchart."+s.HM.method),ws.send("zingchart.getdata")},ws.onmessage=function(e){"ready"===s.M9&&(s.A.MV(s),s.M9="full",ZC.ZH(function(){zingchart.exec(s.A.K,"setdata",{graphid:s.K,data:e.data,softclear:!0})}))},s.H.S6[s.K]=ws));else if("feed"===s.HM.type&&null!==ZC._n_(s.HM.url)){if(null!==ZC._n_(s.HM.curtain)){var OA=s.BT("k");if(OA.length>0&&(ZC.Q.EU(s.K+"-curtain-t"),OA[0].OH>0)){var LV=new ZC.DS(s);s.A.B7.load(LV.o,"("+s.AF+").refresh.curtain"),LV.append(s.HM.curtain),LV.parse(),LV.AM&&(OA[0].CQ&&LV.F<=OA[0].OH||!OA[0].CQ&&LV.I<=OA[0].OH)&&(LV.K=s.K+"-curtain-t",LV.IJ=ZC.AK(s.A.K+"-text-top"),OA[0].CQ?(LV.F>OA[0].OH&&(LV.AR="",LV.parse()),LV.iX=s.P.iX,LV.iY=OA[0].AU?s.P.iY:s.P.iY+s.P.F-OA[0].OH,LV.I=s.P.I,LV.F=OA[0].OH):(LV.I>OA[0].OH&&(LV.AR="",LV.parse()),LV.iX=OA[0].AU?s.P.iX+s.P.I-OA[0].OH:s.P.iX,LV.iY=s.P.iY,LV.I=OA[0].OH,LV.F=s.P.F),LV.Z=LV.C6=ZC.AK(s.K+"-scales-ml-0-c"),LV.paint())}}var A0O=s.HM.transport,A3S=ZC._i_(s.HM["reset-timeout"]),A4H=ZC._i_(s.HM["stop-timeout"]),AA4=ZC._b_(s.HM.storage),A0F=!0;null!==ZC._n_(s.HM["preserve-data"])&&(A0F=ZC._b_(s.HM["preserve-data"]));var A4I=function(K8){for(var TK=eval("("+K8+")"),i,A7,A87=TK instanceof Array?TK:[TK],r=0,rLen=A87.length;r<rLen;r++){var DJ=A87[r];for(i=0,A7=s.BM.length;i<A7;i++)if("k"===s.BM[i].AF){var BC=s.BM[i].BC;null!==ZC._n_(DJ[BC])&&null!==ZC._n_(s.o[BC])&&(null===ZC._n_(s.o[BC].values)&&(s.H.o.graphset[s.L][BC].values=[],s.o[BC].values=[]),s.o[BC].values.push(DJ[BC]),!A0F&&s.o[BC].values.length>ZC._i_(s.HM["max-ticks"])&&s.o[BC].values.splice(0,1),s.H.o.graphset[s.L][BC].values.push(DJ[BC]),(s.o[BC].values.length>A3S||1===s.M8[1])&&(s.H.o.graphset[s.L][BC].values=[],s.o[BC].values=[],s.H.E["graph"+s.L+".zoom"]&&(s.H.E["graph"+s.L+".zoom"].xmin=null,s.H.E["graph"+s.L+".zoom"].xmax=null),s.I9&&(s.I9.unbind(),ZC.Q.IQ(ZC.AK(s.K+"-scroll-x-c"),s.A.AC,s.iX,s.iY,s.I,s.F,s.K),ZC.A4("#"+s.K+"-scroll-x-handle").remove(),ZC.A4("#"+s.K+"-scroll-x-bar").remove()),s.I6&&(s.I6.unbind(),ZC.Q.IQ(ZC.AK(s.K+"-scroll-y-c"),s.A.AC,s.iX,s.iY,s.I,s.F,s.K),ZC.A4("#"+s.K+"-scroll-y-handle").remove(),ZC.A4("#"+s.K+"-scroll-y-bar").remove())),ZC.webstorage&&AA4&&ZC.AP.storage.push("zingchart.scale."+s.K+"."+BC,""+DJ[BC]))}for(i=0,A7=s.AY.A6.length;i<A7;i++)if(null!==ZC._n_(s.o.series[i])){var A3M=null;null!==ZC._n_(G=DJ["plot-"+i])?A3M=G:null!==ZC._n_(G=DJ["plot"+i])&&(A3M=G),"xy"===s.AJ.layout||"yx"===s.AJ.layout?(s.H.o.graphset[s.L].series[i].values.push(A3M),!A0F&&s.H.o.graphset[s.L].series[i].values.length>ZC._i_(s.HM["max-ticks"])&&s.H.o.graphset[s.L].series[i].values.splice(0,1)):s.H.o.graphset[s.L].series[i].values=[A3M],ZC.webstorage&&AA4&&("object"==typeof(G=DJ["plot"+i])&&(G=G.join("###")),ZC.AP.storage.push("zingchart.plot."+s.K+".plot"+i,""+G)),(s.o.series[i].values.length>A3S||1===s.M8[1])&&(ZC.AP.BZ("feed_clear",s.A,s.I3(),DJ),s.H.o.graphset[s.L].series[i].values=[])}MK=s.A2H()}("ready"===s.M9||s.GA)&&(1===s.M8[1]&&(s.M8[1]=0),(MK<=A4H||0===A4H)&&(s.M9="feed",ZC.ZH(function(){ZC.AK(s.A.K+"-main")&&(ZC.AP.BZ("feed_step",s.H,s.I3(),s.o),s.parse(),s.clear(!0),s.U0(),s.paint(!0,!0))})))};if("http"===A0O||"js"===A0O){var E8=s.HM.url;ZC.REFRESH_TICK[s.K]=window.setTimeout(function(){if(1===s.M8[0]||1===s.M8[1])if(s.A.MV(s),"http"===A0O){var EW=["query-string"===s.A.MX?"zcrandom="+Math.random():"",zingchart.ZCOUTPUT?"zcoutput="+s.H.AC:""].join("&");ZC.A4.ajax({type:"GET",url:E8,beforeSend:function(e){s.A.RX.data||"http-headers"!==s.A.MX||e.setRequestHeader("If-Modified-Since","Thu, 01 Jan 1970 00:00:00 GMT")},data:EW,dataType:"text",error:function(){},success:function(s){A4I(s)}})}else if("()"===E8.substring(E8.length-2)||"javascript:"===E8.substring(0,11))try{var EI=E8.replace("javascript:","").replace("()","");eval(EI)&&eval(EI).call(s,function(s){A4I(s)},s.I3())}catch(e){}},OM)}else"websockets"===A0O&&ZC.websockets&&(s.H.S6[s.K]?"pull"===s.HM.method&&(ZC.REFRESH_TICK[s.K]=window.setTimeout(function(){s.H.S6[s.K].send("zingchart.getdata")},OM)):(ws=new WebSocket(s.HM.url,"zingchart"),ws.onopen=function(){ws.send("zingchart."+s.HM.type),ws.send("zingchart."+s.HM.method),ws.send("zingchart.startfeed"),"pull"===s.HM.method&&ws.send("zingchart.getdata")},ws.onmessage=function(e){1!==s.M8[0]&&1!==s.M8[1]||A4I(e.data)},s.H.S6[s.K]=ws))}}},zingchart.ABG=function(s,e,t){var a;document.getElementById("zc-fullscreen")&&(s="zc-fullscreen"),"string"==typeof(t=t||{})&&(t=JSON.parse(t));var r=zingchart.getLoader(s);if(r){var n=r.C9(t.graphid);switch(e){case"clearfeed":n.M8[1]=1,0===n.M8[0]&&ZC.ZH(function(){n.parse(),n.clear(!0),n.U0(),n.paint(!0,!0)});break;case"getinterval":return n.HM.interval;case"setinterval":ZC.AP.BZ("feed_interval_modify",r,n.I3()),n.o.refresh=n.o.refresh||{},n.o.refresh.interval=t.interval||1;break;case"stopfeed":1===n.M8[0]&&(ZC.AP.BZ("feed_stop",r,n.I3()),n.M8[0]=0,null!==ZC._n_(a=r.S6[n.K])&&a.send("zingchart.stopfeed"));break;case"startfeed":0===n.M8[0]&&(ZC.AP.BZ("feed_start",r,n.I3()),n.M8[0]=1,null!==ZC._n_(a=r.S6[n.K])&&a.send("zingchart.startfeed"),ZC.ZH(function(){n.parse(),n.clear(!0),n.U0(),n.paint(!0,!0)}))}}return null};
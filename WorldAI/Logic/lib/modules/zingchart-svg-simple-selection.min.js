/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.1
*/
zingchart.setModule("svg-simple-selection"),function(){function t(t,a,r,s,i){a["p"+r]=a["p"+r]||{},t.CH["p"+r]=t.CH["p"+r]||{},i?(a["p"+r]["n"+s]=!0,t.CH["p"+r]["n"+s]=!0):(delete a["p"+r]["n"+s],delete t.CH["p"+r]["n"+s]);var l,n="#"+t.K+"-plotset-plot-"+r+"-node-"+s+"-path",o=ZC.A4(n),d="#"+t.K+"-plotset-plot-"+r+"-node-"+s+"-preview-path",p=ZC.A4(d);if(i)for(l=0;l<e.length;l++)i[e[l].zcattr]&&(o.attr("data-"+e[l].svgattr,o.attr(e[l].svgattr)||e[l].svgdefault).attr(e[l].svgattr,i[e[l].zcattr]),p.length&&p.attr("data-"+e[l].svgattr,p.attr(e[l].svgattr)||e[l].svgdefault).attr(e[l].svgattr,i[e[l].zcattr]));else for(l=0;l<e.length;l++)o.attr("data-"+e[l].svgattr)&&(o.attr(e[l].svgattr,o.attr("data-"+e[l].svgattr)),p.length&&p.attr(e[l].svgattr,o.attr("data-"+e[l].svgattr)))}var e=[{zcattr:"background-color",svgattr:"fill",svgdefault:"none"},{zcattr:"alpha",svgattr:"fill-opacity",svgdefault:"1"},{zcattr:"border-color",svgattr:"stroke",svgdefault:"none"},{zcattr:"border-width",svgattr:"stroke-width",svgdefault:"0"}],a=ZC.CS._append_;ZC.CS._append_=function(t,r,s){var i=r.H,l=zingchart.getModules(i);if(-1!==ZC.AV(l,"svg-simple-selection")){if(-1!==s.id.indexOf("-plotset-plot-")){var n=s.id.split("-plotset-plot-")[0].replace(i.K+"-graph-",""),o=zingchart.getGraph(i,n),d=o.K;if(o&&("vbar"===o.AF||"hbar"===o.AF)&&ZC.SSS&&ZC.SSS[d]){var p=ZC.SSS[d].selection;for(var c in p){var g=c.replace("p","");if(ZC.SSS[d].defs["series-"+g])for(var S in p["p"+g]){var v=S.replace("n","");if(-1!==s.id.indexOf("-plotset-plot-"+g+"-node-"+v+"-path")||-1!==s.id.indexOf("-plotset-plot-"+g+"-node-"+v+"-preview-path")){var f=ZC.SSS[d].defs["series-"+g]["selected-state"];if(f)for(var h=0;h<e.length;h++)f[e[h].zcattr]&&(s.setAttribute("data-"+e[h].svgattr,s.getAttribute(e[h].svgattr)||e[h].svgdefault),s.setAttribute(e[h].svgattr,f[e[h].zcattr]))}}}}}a(t,r,s)}else a(t,r,s)},zingchart.bind(null,"load",function(e){for(var a,r,s,i,l,n=zingchart.getLoader(e.id),o=zingchart.exec(e.id,"getgraphlength"),d=0;d<o;d++){var p=zingchart.getGraph(n,d);if(p){var c=p.K;if(ZC.SSS[c]&&ZC.SSS[c].selection)for(a in ZC.SSS[c].selection)if(s=parseInt(a.replace("p",""),10),ZC.SSS[c].defs["series-"+s]){l=ZC.SSS[c].defs["series-"+s]["selected-state"];for(r in ZC.SSS[c].selection[a])i=parseInt(r.replace("n",""),10),t(p,ZC.SSS[c].selection,s,i,l)}}}}),zingchart.bind(null,"gcomplete",function(t){var a=zingchart.getLoader(t.id),r=zingchart.getGraph(a,t.graphid),s=zingchart.getModules(a);if(-1!==ZC.AV(s,"svg-simple-selection")&&("vbar"===r.AF||"hbar"===r.AF)){var i,l,n,o,d,p,c,g,S,v,f=r.K;if(JSON.stringify(r.CH)!==JSON.stringify(ZC.SSS[f].selection)){i=ZC.SSS[f].selection;for(n in i){d=n.replace("p","");for(o in i["p"+d])for(p=o.replace("n",""),c="#"+r.K+"-plotset-plot-"+d+"-node-"+p+"-path",g=ZC.A4(c),S="#"+r.K+"-plotset-plot-"+d+"-node-"+p+"-preview-path",v=ZC.A4(S),l=0;l<e.length;l++)g.attr("data-"+e[l].svgattr)&&(g.attr(e[l].svgattr,g.attr("data-"+e[l].svgattr)),v.length&&v.attr(e[l].svgattr,g.attr("data-"+e[l].svgattr)))}ZC.SSS[f].selection={},i=r.CH;for(n in i){d=n.replace("p","");for(o in i["p"+d])if(p=o.replace("n",""),c="#"+r.K+"-plotset-plot-"+d+"-node-"+p+"-path",g=ZC.A4(c),S="#"+r.K+"-plotset-plot-"+d+"-node-"+p+"-preview-path",v=ZC.A4(S),ZC.SSS[f].defs["series-"+d]){var h=ZC.SSS[f].defs["series-"+d]["selected-state"];for(l=0;l<e.length;l++)h[e[l].zcattr]&&(g.attr("data-"+e[l].svgattr,g.attr(e[l].svgattr)||e[l].svgdefault).attr(e[l].svgattr,h[e[l].zcattr]),v.length&&v.attr("data-"+e[l].svgattr,v.attr(e[l].svgattr)||e[l].svgdefault).attr(e[l].svgattr,h[e[l].zcattr]));ZC.SSS[f].selection[n]=ZC.SSS[f].selection[n]||{},ZC.SSS[f].selection[n][o]=!0}}}}}),zingchart.bind(null,"dataparse",function(t,e){var a,r,s,i,l,n=zingchart.getLoader(t.id),o=zingchart.getModules(n);if(-1===ZC.AV(o,"svg-simple-selection"))return e;var d;for(a=0,r=e.graphset.length;a<r;a++){var p=e.graphset[a];ZC._todash_(p);var c=p.id||"id"+a,g=t.id+"-graph-"+c;if("bar"===p.type||"vbar"===p.type||"hbar"===p.type){d={plot:{"selection-mode":"none","selected-state":{}}};var S=p.plot||{};(s=S["selection-mode"])&&(d.plot["selection-mode"]=s,p.plot["selection-mode"]="none"),(s=S["selected-state"])&&(d.plot["selected-state"]={},ZC._cp_(s,d.plot["selected-state"]));var v=p.series||[];for(i=0,l=v.length;i<l;i++)v[i]&&(d["series-"+i]={"selection-mode":d.plot["selection-mode"],"selected-state":{}},ZC._cp_(d.plot["selected-state"],d["series-"+i]["selected-state"]),(s=v[i]["selection-mode"])&&(d["series-"+i]["selection-mode"]=s),(s=v[i]["selected-state"])&&ZC._cp_(s,d["series-"+i]["selected-state"]),p.series[i]["selection-mode"]="none")}ZC.SSS=ZC.SSS||{},ZC.SSS[g]={defs:d,selection:{}}}return e}),zingchart.bind(null,"node_click",function(e){var a,r=zingchart.getLoader(e.id),s=zingchart.getGraph(r,e.graphid),i=zingchart.getModules(r);if(-1!==ZC.AV(i,"svg-simple-selection")&&("vbar"===s.AF||"hbar"===s.AF)){var l,n,o,d,p=s.K;if(ZC.SSS&&ZC.SSS[p]){var c=e.plotindex,g=ZC.SSS[p].selection;if(a=ZC.SSS[p].defs["series-"+c]){var S=a["selection-mode"],v=a["selected-state"],f=!1;if(g["p"+e.plotindex]&&g["p"+e.plotindex]["n"+e.nodeindex]&&(f=!0),!f)switch(S){default:break;case"plot":if(g["p"+e.plotindex])for(l in g["p"+e.plotindex])o=l.replace("n",""),t(s,g,e.plotindex,o,null);break;case"graph":for(n in g)if(d=n.replace("p",""),ZC.SSS[p].defs["series-"+d]&&"graph"===ZC.SSS[p].defs["series-"+d]["selection-mode"])for(l in g["p"+d])t(s,g,d,o=l.replace("n",""),null)}t(s,g,e.plotindex,e.nodeindex,f?null:v)}}}})}();
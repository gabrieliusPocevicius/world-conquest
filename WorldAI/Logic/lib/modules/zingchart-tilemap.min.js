/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.1
*/
zingchart.setModule("tilemap"),function(){var a=[{id:"AL",name:"Alabama",lat:6,lon:7},{id:"AK",name:"Alaska",lat:0,lon:0},{id:"AZ",name:"Arizona",lat:5,lon:3},{id:"AR",name:"Arkansas",lat:5,lon:6},{id:"CA",name:"California",lat:5,lon:2},{id:"CO",name:"Colorado",lat:4,lon:3},{id:"CT",name:"Connecticut",lat:3,lon:11},{id:"DE",name:"Delaware",lat:4,lon:9},{id:"DC",name:"District of Columbia",lat:4,lon:10},{id:"FL",name:"Florida",lat:8,lon:8},{id:"GA",name:"Georgia",lat:7,lon:8},{id:"HI",name:"Hawaii",lat:8,lon:0},{id:"ID",name:"Idaho",lat:3,lon:2},{id:"IL",name:"Illinois",lat:3,lon:6},{id:"IN",name:"Indiana",lat:3,lon:7},{id:"IA",name:"Iowa",lat:3,lon:5},{id:"KS",name:"Kansas",lat:5,lon:5},{id:"KY",name:"Kentucky",lat:4,lon:6},{id:"LA",name:"Louisiana",lat:6,lon:5},{id:"ME",name:"Maine",lat:0,lon:11},{id:"MD",name:"Maryland",lat:4,lon:8},{id:"MA",name:"Massachusetts",lat:2,lon:10},{id:"MI",name:"Michigan",lat:2,lon:7},{id:"MN",name:"Minnesota",lat:2,lon:4},{id:"MS",name:"Mississippi",lat:6,lon:6},{id:"MO",name:"Missouri",lat:4,lon:5},{id:"MT",name:"Montana",lat:2,lon:2},{id:"NE",name:"Nebraska",lat:4,lon:4},{id:"NV",name:"Nevada",lat:4,lon:2},{id:"NH",name:"New Hampshire",lat:1,lon:11},{id:"NJ",name:"New Jersey",lat:3,lon:10},{id:"NM",name:"New Mexico",lat:6,lon:3},{id:"NY",name:"New York",lat:2,lon:9},{id:"NC",name:"North Carolina",lat:5,lon:9},{id:"ND",name:"North Dakota",lat:2,lon:3},{id:"OH",name:"Ohio",lat:3,lon:8},{id:"OK",name:"Oklahoma",lat:6,lon:4},{id:"OR",name:"Oregon",lat:4,lon:1},{id:"PA",name:"Pennsylvania",lat:3,lon:9},{id:"RI",name:"Rhode Island",lat:2,lon:11},{id:"SC",name:"South Carolina",lat:6,lon:8},{id:"SD",name:"South Dakota",lat:3,lon:4},{id:"TN",name:"Tennessee",lat:5,lon:7},{id:"TX",name:"Texas",lat:7,lon:4},{id:"UT",name:"Utah",lat:5,lon:4},{id:"VT",name:"Vermont",lat:1,lon:10},{id:"VA",name:"Virginia",lat:5,lon:8},{id:"WA",name:"Washington",lat:2,lon:1},{id:"WV",name:"West Virginia",lat:4,lon:7},{id:"WI",name:"Wisconsin",lat:2,lon:5},{id:"WY",name:"Wyoming",lat:3,lon:3}],n=[{id:"ISL",name:"Iceland",lat:0,lon:0},{id:"NOR",name:"Norway",lat:0,lon:4},{id:"SWE",name:"Sweden",lat:0,lon:5},{id:"FIN",name:"Finland",lat:0,lon:6},{id:"EST",name:"Estonia",lat:1,lon:7},{id:"IRL",name:"Ireland",lat:2,lon:0},{id:"GBR",name:"Great Britain",lat:2,lon:1},{id:"DNK",name:"Denmark",lat:2,lon:4},{id:"LTU",name:"Lituania",lat:2,lon:6},{id:"LVA",name:"Latvia",lat:2,lon:7},{id:"BEL",name:"Belgium",lat:3,lon:3},{id:"NLD",name:"Netherlands",lat:3,lon:4},{id:"DEU",name:"Germany",lat:3,lon:5},{id:"POL",name:"Poland",lat:3,lon:6},{id:"BLR",name:"Belarus",lat:3,lon:7},{id:"RUS",name:"Russia",lat:3,lon:8},{id:"FRA",name:"France",lat:4,lon:2},{id:"LUX",name:"Luxembourg",lat:4,lon:3},{id:"CHE",name:"Switzerland",lat:4,lon:4},{id:"CZE",name:"Czech Republic",lat:4,lon:5},{id:"SVK",name:"Slovakia",lat:4,lon:6},{id:"UKR",name:"Ukraine",lat:4,lon:7},{id:"PRT",name:"Portugal",lat:5,lon:1},{id:"ESP",name:"Spain",lat:5,lon:2},{id:"ITA",name:"Italy",lat:5,lon:4},{id:"AUT",name:"Austria",lat:5,lon:5},{id:"HGR",name:"Hungary",lat:5,lon:6},{id:"ROU",name:"Romania",lat:5,lon:7},{id:"MDA",name:"Moldavia",lat:5,lon:8},{id:"GEO",name:"Georgia",lat:5,lon:10},{id:"AZE",name:"Azerbaidjan",lat:5,lon:11},{id:"SLO",name:"Slovenia",lat:6,lon:4},{id:"HRV",name:"Croatia",lat:6,lon:5},{id:"MNE",name:"Montenegro",lat:6,lon:6},{id:"SRB",name:"Serbia",lat:6,lon:7},{id:"BGR",name:"Bulgaria",lat:6,lon:8},{id:"TUR",name:"Turkey",lat:6,lon:9},{id:"ARM",name:"Armenia",lat:6,lon:10},{id:"MLT",name:"Malta",lat:7,lon:3},{id:"BIH",name:"Bosnia Hertzegovina",lat:7,lon:6},{id:"KOS",name:"Kosovo",lat:7,lon:7},{id:"MKD",name:"Macedonia",lat:7,lon:8},{id:"CYP",name:"Cyprus",lat:7,lon:9},{id:"ALB",name:"Albania",lat:8,lon:5},{id:"GRC",name:"Greece",lat:8,lon:6},{id:"ISR",name:"Israel",lat:8,lon:8}];zingchart.bind(null,"dataparse",function(a,n){for(var l=0,e=n.graphset.length;l<e;l++)if(n.graphset[l].type&&"tilemap"===n.graphset[l].type){var i=n.graphset[l].type;n.graphset[l]["plugin-type"]=i;var t=n.graphset[l];zingchart.normalize(t),t.type="null";var o={};t.options&&(o=t.options.tilemap||t.options),ZC._todash_(o);var r=o.groups||[];if(r.length){t.series=[];for(var d=0,m=r.length;d<m;d++){var s={values:[],text:r[d].text,"legend-marker":{}};ZC._cp_(r[d],s["legend-marker"]),t.series.push(s)}}}return n}),zingchart.bind(null,"objectsinit",function(l){var e,i,t,o,r=zingchart.getLoader(l.loader.id),d=zingchart.getGraph(r,l.graphid),m=d.o;if(m["plugin-type"]=m["plugin-type"]||"","tilemap"===m["plugin-type"]){var s={};m.options&&(s=m.options.tilemap||m.options),ZC._todash_(s);var p=s.map||"USA",c=null;switch(p){case"USA":c=a;break;case"EUROPE":c=n;break;default:c=window["map_"+p]}if(!c)return;c.sort(function(a,n){return a.lat===n.lat?n.lon-a.lon:a.lat-n.lat});var g={};for(e=0,i=c.length;e<i;e++)g[c[e].id]=c[e].name;var h=s.data||{},u=s.groups||[],v=s.type||"hex";"hex"===v&&(v="rpoly6"),"rpoly6"!==v&&"circle"!==v&&"square"!==v&&(v="rpoly6");var A=0,y=0;for(e=0,i=c.length;e<i;e++)A=Math.max(A,c[e].lat),y=Math.max(y,c[e].lon);var C=zingchart.exec(l.id,"getobjectinfo",{graphid:d.K,object:"plotarea"}),M={rpoly6:[.95,.95,.8,.55,.9,.8],circle:[.9,.95,.8,.55,.9,.8],square:[.9,.9,.9,.5,.85,.85]},b=s["size-factor"]||M[v][0],f=C.width/(y+1),N=C.height/(A+1),_=ZC._i_(Math.min(f,N)*M[v][3]),R=2*_*(y+1)*M[v][4],k=2*_*(A+1)*M[v][5],S=ZC._i_((C.width-R)/2),I=ZC._i_((C.height-k)/2);m.shapes=m.shapes||[];var L=function(a,n){if(a=a.replace(/\%id/g,n),a=a.replace(/\%name/g,ZC._c_(g[n],"")),h[n]){a=a.replace(/\%value/g,ZC._c_(h[n].value,"N/A"));for(var l in h[n])if("data-"===l.substring(0,5)){var e=new RegExp("%"+l,"g");a=a.replace(e,h[n][l])}}else a=a.replace(/\%value/g,"N/A");return a},z="%name:%value";for(m.tooltip&&m.tooltip.text&&(z=m.tooltip.text),e=0,i=c.length;e<i;e++){var x={type:v,angle:"rpoly6"===v?90:0,size:_*b,"background-color":"#89b92e","border-width":0,id:c[e].id,x:C.x+_/2+S+c[e].lon*_*2*M[v][1]-(c[e].lat%2==0?0:1)*_*M[v][1]-d.iX,y:C.y+_/2+I+c[e].lat*_*2*M[v][2]-d.iY,label:{text:c[e].id,bold:!0},"hover-state":{},tooltip:{text:L(z,c[e].id)}};ZC._cp_(s.tile,x);var w={},E=-1;if(h[c[e].id])for(t=0,o=u.length;t<o;t++)if(u[t].rule){var T=!1;try{T=new Function("return ("+L(u[t].rule,c[e].id)+")")()}catch(D){T=!1}if(T){w=u[t],E=t;break}}ZC._cp_(w,x),ZC._cp_(h[c[e].id],x),-1!==E&&(x.cls="tilecls"+E),x["hover-state"]["background-color"]||(x["hover-state"]["background-color"]=ZC.AP.QT(x["background-color"],50)),m.shapes.push(x)}}});var l=function(a){var n=zingchart.getLoader(a.id);if(n){var l=zingchart.getGraph(n,a.graphid);l&&"tilemap"===l.o["plugin-type"]&&zingchart.exec(a.id,"updateobject",{graphid:a.graphid,cls:"tilecls"+a.plotindex,type:"shape",data:{visible:!a.visible}})}};zingchart.bind(null,"legend_marker_click",l),zingchart.bind(null,"legend_item_click",l)}();